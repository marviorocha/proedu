{"ast":null,"code":"/* =========================================================\n * bootstrap-datepicker.js\n * Repo: https://github.com/eternicode/bootstrap-datepicker/\n * Demo: http://eternicode.github.io/bootstrap-datepicker/\n * Docs: http://bootstrap-datepicker.readthedocs.org/\n * Forked from http://www.eyecon.ro/bootstrap-datepicker\n * =========================================================\n * Started by Stefan Petre; improvements by Andrew Rowls + contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * ========================================================= */\n(function ($, undefined) {\n  var $window = $(window);\n\n  function UTCDate() {\n    return new Date(Date.UTC.apply(Date, arguments));\n  }\n\n  function UTCToday() {\n    var today = new Date();\n    return UTCDate(today.getFullYear(), today.getMonth(), today.getDate());\n  }\n\n  function alias(method) {\n    return function () {\n      return this[method].apply(this, arguments);\n    };\n  }\n\n  var DateArray = function () {\n    var extras = {\n      get: function get(i) {\n        return this.slice(i)[0];\n      },\n      contains: function contains(d) {\n        // Array.indexOf is not cross-browser;\n        // $.inArray doesn't work with Dates\n        var val = d && d.valueOf();\n\n        for (var i = 0, l = this.length; i < l; i++) {\n          if (this[i].valueOf() === val) return i;\n        }\n\n        return -1;\n      },\n      remove: function remove(i) {\n        this.splice(i, 1);\n      },\n      replace: function replace(new_array) {\n        if (!new_array) return;\n        if (!$.isArray(new_array)) new_array = [new_array];\n        this.clear();\n        this.push.apply(this, new_array);\n      },\n      clear: function clear() {\n        this.length = 0;\n      },\n      copy: function copy() {\n        var a = new DateArray();\n        a.replace(this);\n        return a;\n      }\n    };\n    return function () {\n      var a = [];\n      a.push.apply(a, arguments);\n      $.extend(a, extras);\n      return a;\n    };\n  }(); // Picker object\n\n\n  var Datepicker = function Datepicker(element, options) {\n    this.dates = new DateArray();\n    this.viewDate = UTCToday();\n    this.focusDate = null;\n\n    this._process_options(options);\n\n    this.element = $(element);\n    this.isInline = false;\n    this.isInput = this.element.is('input');\n    this.component = this.element.is('.date') ? this.element.find('.add-on, .input-group-addon, .btn') : false;\n    this.hasInput = this.component && this.element.find('input').length;\n    if (this.component && this.component.length === 0) this.component = false;\n    this.picker = $(DPGlobal.template);\n\n    this._buildEvents();\n\n    this._attachEvents();\n\n    if (this.isInline) {\n      this.picker.addClass('datepicker-inline').appendTo(this.element);\n    } else {\n      this.picker.addClass('datepicker-dropdown dropdown-menu');\n    }\n\n    if (this.o.rtl) {\n      this.picker.addClass('datepicker-rtl');\n    }\n\n    this.viewMode = this.o.startView;\n    if (this.o.calendarWeeks) this.picker.find('tfoot th.today').attr('colspan', function (i, val) {\n      return parseInt(val) + 1;\n    });\n    this._allow_update = false;\n    this.setStartDate(this._o.startDate);\n    this.setEndDate(this._o.endDate);\n    this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled);\n    this.fillDow();\n    this.fillMonths();\n    this._allow_update = true;\n    this.update();\n    this.showMode();\n\n    if (this.isInline) {\n      this.show();\n    }\n  };\n\n  Datepicker.prototype = {\n    constructor: Datepicker,\n    _process_options: function _process_options(opts) {\n      // Store raw options for reference\n      this._o = $.extend({}, this._o, opts); // Processed options\n\n      var o = this.o = $.extend({}, this._o); // Check if \"de-DE\" style date is available, if not language should\n      // fallback to 2 letter code eg \"de\"\n\n      var lang = o.language;\n\n      if (!dates[lang]) {\n        lang = lang.split('-')[0];\n        if (!dates[lang]) lang = defaults.language;\n      }\n\n      o.language = lang;\n\n      switch (o.startView) {\n        case 2:\n        case 'decade':\n          o.startView = 2;\n          break;\n\n        case 1:\n        case 'year':\n          o.startView = 1;\n          break;\n\n        default:\n          o.startView = 0;\n      }\n\n      switch (o.minViewMode) {\n        case 1:\n        case 'months':\n          o.minViewMode = 1;\n          break;\n\n        case 2:\n        case 'years':\n          o.minViewMode = 2;\n          break;\n\n        default:\n          o.minViewMode = 0;\n      }\n\n      o.startView = Math.max(o.startView, o.minViewMode); // true, false, or Number > 0\n\n      if (o.multidate !== true) {\n        o.multidate = Number(o.multidate) || false;\n        if (o.multidate !== false) o.multidate = Math.max(0, o.multidate);else o.multidate = 1;\n      }\n\n      o.multidateSeparator = String(o.multidateSeparator);\n      o.weekStart %= 7;\n      o.weekEnd = (o.weekStart + 6) % 7;\n      var format = DPGlobal.parseFormat(o.format);\n\n      if (o.startDate !== -Infinity) {\n        if (!!o.startDate) {\n          if (o.startDate instanceof Date) o.startDate = this._local_to_utc(this._zero_time(o.startDate));else o.startDate = DPGlobal.parseDate(o.startDate, format, o.language);\n        } else {\n          o.startDate = -Infinity;\n        }\n      }\n\n      if (o.endDate !== Infinity) {\n        if (!!o.endDate) {\n          if (o.endDate instanceof Date) o.endDate = this._local_to_utc(this._zero_time(o.endDate));else o.endDate = DPGlobal.parseDate(o.endDate, format, o.language);\n        } else {\n          o.endDate = Infinity;\n        }\n      }\n\n      o.daysOfWeekDisabled = o.daysOfWeekDisabled || [];\n      if (!$.isArray(o.daysOfWeekDisabled)) o.daysOfWeekDisabled = o.daysOfWeekDisabled.split(/[,\\s]*/);\n      o.daysOfWeekDisabled = $.map(o.daysOfWeekDisabled, function (d) {\n        return parseInt(d, 10);\n      });\n\n      var plc = String(o.orientation).toLowerCase().split(/\\s+/g),\n          _plc = o.orientation.toLowerCase();\n\n      plc = $.grep(plc, function (word) {\n        return /^auto|left|right|top|bottom$/.test(word);\n      });\n      o.orientation = {\n        x: 'auto',\n        y: 'auto'\n      };\n      if (!_plc || _plc === 'auto') ; // no action\n      else if (plc.length === 1) {\n          switch (plc[0]) {\n            case 'top':\n            case 'bottom':\n              o.orientation.y = plc[0];\n              break;\n\n            case 'left':\n            case 'right':\n              o.orientation.x = plc[0];\n              break;\n          }\n        } else {\n          _plc = $.grep(plc, function (word) {\n            return /^left|right$/.test(word);\n          });\n          o.orientation.x = _plc[0] || 'auto';\n          _plc = $.grep(plc, function (word) {\n            return /^top|bottom$/.test(word);\n          });\n          o.orientation.y = _plc[0] || 'auto';\n        }\n    },\n    _events: [],\n    _secondaryEvents: [],\n    _applyEvents: function _applyEvents(evs) {\n      for (var i = 0, el, ch, ev; i < evs.length; i++) {\n        el = evs[i][0];\n\n        if (evs[i].length === 2) {\n          ch = undefined;\n          ev = evs[i][1];\n        } else if (evs[i].length === 3) {\n          ch = evs[i][1];\n          ev = evs[i][2];\n        }\n\n        el.on(ev, ch);\n      }\n    },\n    _unapplyEvents: function _unapplyEvents(evs) {\n      for (var i = 0, el, ev, ch; i < evs.length; i++) {\n        el = evs[i][0];\n\n        if (evs[i].length === 2) {\n          ch = undefined;\n          ev = evs[i][1];\n        } else if (evs[i].length === 3) {\n          ch = evs[i][1];\n          ev = evs[i][2];\n        }\n\n        el.off(ev, ch);\n      }\n    },\n    _buildEvents: function _buildEvents() {\n      if (this.isInput) {\n        // single input\n        this._events = [[this.element, {\n          focus: $.proxy(this.show, this),\n          keyup: $.proxy(function (e) {\n            if ($.inArray(e.keyCode, [27, 37, 39, 38, 40, 32, 13, 9]) === -1) this.update();\n          }, this),\n          keydown: $.proxy(this.keydown, this)\n        }]];\n      } else if (this.component && this.hasInput) {\n        // component: input + button\n        this._events = [// For components that are not readonly, allow keyboard nav\n        [this.element.find('input'), {\n          focus: $.proxy(this.show, this),\n          keyup: $.proxy(function (e) {\n            if ($.inArray(e.keyCode, [27, 37, 39, 38, 40, 32, 13, 9]) === -1) this.update();\n          }, this),\n          keydown: $.proxy(this.keydown, this)\n        }], [this.component, {\n          click: $.proxy(this.show, this)\n        }]];\n      } else if (this.element.is('div')) {\n        // inline datepicker\n        this.isInline = true;\n      } else {\n        this._events = [[this.element, {\n          click: $.proxy(this.show, this)\n        }]];\n      }\n\n      this._events.push( // Component: listen for blur on element descendants\n      [this.element, '*', {\n        blur: $.proxy(function (e) {\n          this._focused_from = e.target;\n        }, this)\n      }], // Input: listen for blur on element\n      [this.element, {\n        blur: $.proxy(function (e) {\n          this._focused_from = e.target;\n        }, this)\n      }]);\n\n      this._secondaryEvents = [[this.picker, {\n        click: $.proxy(this.click, this)\n      }], [$(window), {\n        resize: $.proxy(this.place, this)\n      }], [$(document), {\n        'mousedown touchstart': $.proxy(function (e) {\n          // Clicked outside the datepicker, hide it\n          if (!(this.element.is(e.target) || this.element.find(e.target).length || this.picker.is(e.target) || this.picker.find(e.target).length)) {\n            this.hide();\n          }\n        }, this)\n      }]];\n    },\n    _attachEvents: function _attachEvents() {\n      this._detachEvents();\n\n      this._applyEvents(this._events);\n    },\n    _detachEvents: function _detachEvents() {\n      this._unapplyEvents(this._events);\n    },\n    _attachSecondaryEvents: function _attachSecondaryEvents() {\n      this._detachSecondaryEvents();\n\n      this._applyEvents(this._secondaryEvents);\n    },\n    _detachSecondaryEvents: function _detachSecondaryEvents() {\n      this._unapplyEvents(this._secondaryEvents);\n    },\n    _trigger: function _trigger(event, altdate) {\n      var date = altdate || this.dates.get(-1),\n          local_date = this._utc_to_local(date);\n\n      this.element.trigger({\n        type: event,\n        date: local_date,\n        dates: $.map(this.dates, this._utc_to_local),\n        format: $.proxy(function (ix, format) {\n          if (arguments.length === 0) {\n            ix = this.dates.length - 1;\n            format = this.o.format;\n          } else if (typeof ix === 'string') {\n            format = ix;\n            ix = this.dates.length - 1;\n          }\n\n          format = format || this.o.format;\n          var date = this.dates.get(ix);\n          return DPGlobal.formatDate(date, format, this.o.language);\n        }, this)\n      });\n    },\n    show: function show() {\n      if (!this.isInline) this.picker.appendTo('body');\n      this.picker.show();\n      this.place();\n\n      this._attachSecondaryEvents();\n\n      this._trigger('show');\n    },\n    hide: function hide() {\n      if (this.isInline) return;\n      if (!this.picker.is(':visible')) return;\n      this.focusDate = null;\n      this.picker.hide().detach();\n\n      this._detachSecondaryEvents();\n\n      this.viewMode = this.o.startView;\n      this.showMode();\n      if (this.o.forceParse && (this.isInput && this.element.val() || this.hasInput && this.element.find('input').val())) this.setValue();\n\n      this._trigger('hide');\n    },\n    remove: function remove() {\n      this.hide();\n\n      this._detachEvents();\n\n      this._detachSecondaryEvents();\n\n      this.picker.remove();\n      delete this.element.data().datepicker;\n\n      if (!this.isInput) {\n        delete this.element.data().date;\n      }\n    },\n    _utc_to_local: function _utc_to_local(utc) {\n      return utc && new Date(utc.getTime() + utc.getTimezoneOffset() * 60000);\n    },\n    _local_to_utc: function _local_to_utc(local) {\n      return local && new Date(local.getTime() - local.getTimezoneOffset() * 60000);\n    },\n    _zero_time: function _zero_time(local) {\n      return local && new Date(local.getFullYear(), local.getMonth(), local.getDate());\n    },\n    _zero_utc_time: function _zero_utc_time(utc) {\n      return utc && new Date(Date.UTC(utc.getUTCFullYear(), utc.getUTCMonth(), utc.getUTCDate()));\n    },\n    getDates: function getDates() {\n      return $.map(this.dates, this._utc_to_local);\n    },\n    getUTCDates: function getUTCDates() {\n      return $.map(this.dates, function (d) {\n        return new Date(d);\n      });\n    },\n    getDate: function getDate() {\n      return this._utc_to_local(this.getUTCDate());\n    },\n    getUTCDate: function getUTCDate() {\n      return new Date(this.dates.get(-1));\n    },\n    setDates: function setDates() {\n      var args = $.isArray(arguments[0]) ? arguments[0] : arguments;\n      this.update.apply(this, args);\n\n      this._trigger('changeDate');\n\n      this.setValue();\n    },\n    setUTCDates: function setUTCDates() {\n      var args = $.isArray(arguments[0]) ? arguments[0] : arguments;\n      this.update.apply(this, $.map(args, this._utc_to_local));\n\n      this._trigger('changeDate');\n\n      this.setValue();\n    },\n    setDate: alias('setDates'),\n    setUTCDate: alias('setUTCDates'),\n    setValue: function setValue() {\n      var formatted = this.getFormattedDate();\n\n      if (!this.isInput) {\n        if (this.component) {\n          this.element.find('input').val(formatted).change();\n        }\n      } else {\n        this.element.val(formatted).change();\n      }\n    },\n    getFormattedDate: function getFormattedDate(format) {\n      if (format === undefined) format = this.o.format;\n      var lang = this.o.language;\n      return $.map(this.dates, function (d) {\n        return DPGlobal.formatDate(d, format, lang);\n      }).join(this.o.multidateSeparator);\n    },\n    setStartDate: function setStartDate(startDate) {\n      this._process_options({\n        startDate: startDate\n      });\n\n      this.update();\n      this.updateNavArrows();\n    },\n    setEndDate: function setEndDate(endDate) {\n      this._process_options({\n        endDate: endDate\n      });\n\n      this.update();\n      this.updateNavArrows();\n    },\n    setDaysOfWeekDisabled: function setDaysOfWeekDisabled(daysOfWeekDisabled) {\n      this._process_options({\n        daysOfWeekDisabled: daysOfWeekDisabled\n      });\n\n      this.update();\n      this.updateNavArrows();\n    },\n    place: function place() {\n      if (this.isInline) return;\n      var calendarWidth = this.picker.outerWidth(),\n          calendarHeight = this.picker.outerHeight(),\n          visualPadding = 10,\n          windowWidth = $window.width(),\n          windowHeight = $window.height(),\n          scrollTop = $window.scrollTop();\n      var zIndex = parseInt(this.element.parents().filter(function () {\n        return $(this).css('z-index') !== 'auto';\n      }).first().css('z-index')) + 10;\n      var offset = this.component ? this.component.parent().offset() : this.element.offset();\n      var height = this.component ? this.component.outerHeight(true) : this.element.outerHeight(false);\n      var width = this.component ? this.component.outerWidth(true) : this.element.outerWidth(false);\n      var left = offset.left,\n          top = offset.top;\n      this.picker.removeClass('datepicker-orient-top datepicker-orient-bottom ' + 'datepicker-orient-right datepicker-orient-left');\n\n      if (this.o.orientation.x !== 'auto') {\n        this.picker.addClass('datepicker-orient-' + this.o.orientation.x);\n        if (this.o.orientation.x === 'right') left -= calendarWidth - width;\n      } // auto x orientation is best-placement: if it crosses a window\n      // edge, fudge it sideways\n      else {\n          // Default to left\n          this.picker.addClass('datepicker-orient-left');\n          if (offset.left < 0) left -= offset.left - visualPadding;else if (offset.left + calendarWidth > windowWidth) left = windowWidth - calendarWidth - visualPadding;\n        } // auto y orientation is best-situation: top or bottom, no fudging,\n      // decision based on which shows more of the calendar\n\n\n      var yorient = this.o.orientation.y,\n          top_overflow,\n          bottom_overflow;\n\n      if (yorient === 'auto') {\n        top_overflow = -scrollTop + offset.top - calendarHeight;\n        bottom_overflow = scrollTop + windowHeight - (offset.top + height + calendarHeight);\n        if (Math.max(top_overflow, bottom_overflow) === bottom_overflow) yorient = 'top';else yorient = 'bottom';\n      }\n\n      this.picker.addClass('datepicker-orient-' + yorient);\n      if (yorient === 'top') top += height;else top -= calendarHeight + parseInt(this.picker.css('padding-top'));\n      this.picker.css({\n        top: top,\n        left: left,\n        zIndex: zIndex\n      });\n    },\n    _allow_update: true,\n    update: function update() {\n      if (!this._allow_update) return;\n      var oldDates = this.dates.copy(),\n          dates = [],\n          fromArgs = false;\n\n      if (arguments.length) {\n        $.each(arguments, $.proxy(function (i, date) {\n          if (date instanceof Date) date = this._local_to_utc(date);\n          dates.push(date);\n        }, this));\n        fromArgs = true;\n      } else {\n        dates = this.isInput ? this.element.val() : this.element.data('date') || this.element.find('input').val();\n        if (dates && this.o.multidate) dates = dates.split(this.o.multidateSeparator);else dates = [dates];\n        delete this.element.data().date;\n      }\n\n      dates = $.map(dates, $.proxy(function (date) {\n        return DPGlobal.parseDate(date, this.o.format, this.o.language);\n      }, this));\n      dates = $.grep(dates, $.proxy(function (date) {\n        return date < this.o.startDate || date > this.o.endDate || !date;\n      }, this), true);\n      this.dates.replace(dates);\n      if (this.dates.length) this.viewDate = new Date(this.dates.get(-1));else if (this.viewDate < this.o.startDate) this.viewDate = new Date(this.o.startDate);else if (this.viewDate > this.o.endDate) this.viewDate = new Date(this.o.endDate);\n\n      if (fromArgs) {\n        // setting date by clicking\n        this.setValue();\n      } else if (dates.length) {\n        // setting date by typing\n        if (String(oldDates) !== String(this.dates)) this._trigger('changeDate');\n      }\n\n      if (!this.dates.length && oldDates.length) this._trigger('clearDate');\n      this.fill();\n    },\n    fillDow: function fillDow() {\n      var dowCnt = this.o.weekStart,\n          html = '<tr>';\n\n      if (this.o.calendarWeeks) {\n        var cell = '<th class=\"cw\">&nbsp;</th>';\n        html += cell;\n        this.picker.find('.datepicker-days thead tr:first-child').prepend(cell);\n      }\n\n      while (dowCnt < this.o.weekStart + 7) {\n        html += '<th class=\"dow\">' + dates[this.o.language].daysMin[dowCnt++ % 7] + '</th>';\n      }\n\n      html += '</tr>';\n      this.picker.find('.datepicker-days thead').append(html);\n    },\n    fillMonths: function fillMonths() {\n      var html = '',\n          i = 0;\n\n      while (i < 12) {\n        html += '<span class=\"month\">' + dates[this.o.language].monthsShort[i++] + '</span>';\n      }\n\n      this.picker.find('.datepicker-months td').html(html);\n    },\n    setRange: function setRange(range) {\n      if (!range || !range.length) delete this.range;else this.range = $.map(range, function (d) {\n        return d.valueOf();\n      });\n      this.fill();\n    },\n    getClassNames: function getClassNames(date) {\n      var cls = [],\n          year = this.viewDate.getUTCFullYear(),\n          month = this.viewDate.getUTCMonth(),\n          today = new Date();\n\n      if (date.getUTCFullYear() < year || date.getUTCFullYear() === year && date.getUTCMonth() < month) {\n        cls.push('old');\n      } else if (date.getUTCFullYear() > year || date.getUTCFullYear() === year && date.getUTCMonth() > month) {\n        cls.push('new');\n      }\n\n      if (this.focusDate && date.valueOf() === this.focusDate.valueOf()) cls.push('focused'); // Compare internal UTC date with local today, not UTC today\n\n      if (this.o.todayHighlight && date.getUTCFullYear() === today.getFullYear() && date.getUTCMonth() === today.getMonth() && date.getUTCDate() === today.getDate()) {\n        cls.push('today');\n      }\n\n      if (this.dates.contains(date) !== -1) cls.push('active');\n\n      if (date.valueOf() < this.o.startDate || date.valueOf() > this.o.endDate || $.inArray(date.getUTCDay(), this.o.daysOfWeekDisabled) !== -1) {\n        cls.push('disabled');\n      }\n\n      if (this.range) {\n        if (date > this.range[0] && date < this.range[this.range.length - 1]) {\n          cls.push('range');\n        }\n\n        if ($.inArray(date.valueOf(), this.range) !== -1) {\n          cls.push('selected');\n        }\n      }\n\n      return cls;\n    },\n    fill: function fill() {\n      var d = new Date(this.viewDate),\n          year = d.getUTCFullYear(),\n          month = d.getUTCMonth(),\n          startYear = this.o.startDate !== -Infinity ? this.o.startDate.getUTCFullYear() : -Infinity,\n          startMonth = this.o.startDate !== -Infinity ? this.o.startDate.getUTCMonth() : -Infinity,\n          endYear = this.o.endDate !== Infinity ? this.o.endDate.getUTCFullYear() : Infinity,\n          endMonth = this.o.endDate !== Infinity ? this.o.endDate.getUTCMonth() : Infinity,\n          todaytxt = dates[this.o.language].today || dates['en'].today || '',\n          cleartxt = dates[this.o.language].clear || dates['en'].clear || '',\n          tooltip;\n      this.picker.find('.datepicker-days thead th.datepicker-switch').text(dates[this.o.language].months[month] + ' ' + year);\n      this.picker.find('tfoot th.today').text(todaytxt).toggle(this.o.todayBtn !== false);\n      this.picker.find('tfoot th.clear').text(cleartxt).toggle(this.o.clearBtn !== false);\n      this.updateNavArrows();\n      this.fillMonths();\n      var prevMonth = UTCDate(year, month - 1, 28),\n          day = DPGlobal.getDaysInMonth(prevMonth.getUTCFullYear(), prevMonth.getUTCMonth());\n      prevMonth.setUTCDate(day);\n      prevMonth.setUTCDate(day - (prevMonth.getUTCDay() - this.o.weekStart + 7) % 7);\n      var nextMonth = new Date(prevMonth);\n      nextMonth.setUTCDate(nextMonth.getUTCDate() + 42);\n      nextMonth = nextMonth.valueOf();\n      var html = [];\n      var clsName;\n\n      while (prevMonth.valueOf() < nextMonth) {\n        if (prevMonth.getUTCDay() === this.o.weekStart) {\n          html.push('<tr>');\n\n          if (this.o.calendarWeeks) {\n            // ISO 8601: First week contains first thursday.\n            // ISO also states week starts on Monday, but we can be more abstract here.\n            var // Start of current week: based on weekstart/current date\n            ws = new Date(+prevMonth + (this.o.weekStart - prevMonth.getUTCDay() - 7) % 7 * 864e5),\n                // Thursday of this week\n            th = new Date(Number(ws) + (7 + 4 - ws.getUTCDay()) % 7 * 864e5),\n                // First Thursday of year, year from thursday\n            yth = new Date(Number(yth = UTCDate(th.getUTCFullYear(), 0, 1)) + (7 + 4 - yth.getUTCDay()) % 7 * 864e5),\n                // Calendar week: ms between thursdays, div ms per day, div 7 days\n            calWeek = (th - yth) / 864e5 / 7 + 1;\n            html.push('<td class=\"cw\">' + calWeek + '</td>');\n          }\n        }\n\n        clsName = this.getClassNames(prevMonth);\n        clsName.push('day');\n\n        if (this.o.beforeShowDay !== $.noop) {\n          var before = this.o.beforeShowDay(this._utc_to_local(prevMonth));\n          if (before === undefined) before = {};else if (typeof before === 'boolean') before = {\n            enabled: before\n          };else if (typeof before === 'string') before = {\n            classes: before\n          };\n          if (before.enabled === false) clsName.push('disabled');\n          if (before.classes) clsName = clsName.concat(before.classes.split(/\\s+/));\n          if (before.tooltip) tooltip = before.tooltip;\n        }\n\n        clsName = $.unique(clsName);\n        html.push('<td class=\"' + clsName.join(' ') + '\"' + (tooltip ? ' title=\"' + tooltip + '\"' : '') + '>' + prevMonth.getUTCDate() + '</td>');\n\n        if (prevMonth.getUTCDay() === this.o.weekEnd) {\n          html.push('</tr>');\n        }\n\n        prevMonth.setUTCDate(prevMonth.getUTCDate() + 1);\n      }\n\n      this.picker.find('.datepicker-days tbody').empty().append(html.join(''));\n      var months = this.picker.find('.datepicker-months').find('th:eq(1)').text(year).end().find('span').removeClass('active');\n      $.each(this.dates, function (i, d) {\n        if (d.getUTCFullYear() === year) months.eq(d.getUTCMonth()).addClass('active');\n      });\n\n      if (year < startYear || year > endYear) {\n        months.addClass('disabled');\n      }\n\n      if (year === startYear) {\n        months.slice(0, startMonth).addClass('disabled');\n      }\n\n      if (year === endYear) {\n        months.slice(endMonth + 1).addClass('disabled');\n      }\n\n      html = '';\n      year = parseInt(year / 10, 10) * 10;\n      var yearCont = this.picker.find('.datepicker-years').find('th:eq(1)').text(year + '-' + (year + 9)).end().find('td');\n      year -= 1;\n      var years = $.map(this.dates, function (d) {\n        return d.getUTCFullYear();\n      }),\n          classes;\n\n      for (var i = -1; i < 11; i++) {\n        classes = ['year'];\n        if (i === -1) classes.push('old');else if (i === 10) classes.push('new');\n        if ($.inArray(year, years) !== -1) classes.push('active');\n        if (year < startYear || year > endYear) classes.push('disabled');\n        html += '<span class=\"' + classes.join(' ') + '\">' + year + '</span>';\n        year += 1;\n      }\n\n      yearCont.html(html);\n    },\n    updateNavArrows: function updateNavArrows() {\n      if (!this._allow_update) return;\n      var d = new Date(this.viewDate),\n          year = d.getUTCFullYear(),\n          month = d.getUTCMonth();\n\n      switch (this.viewMode) {\n        case 0:\n          if (this.o.startDate !== -Infinity && year <= this.o.startDate.getUTCFullYear() && month <= this.o.startDate.getUTCMonth()) {\n            this.picker.find('.prev').css({\n              visibility: 'hidden'\n            });\n          } else {\n            this.picker.find('.prev').css({\n              visibility: 'visible'\n            });\n          }\n\n          if (this.o.endDate !== Infinity && year >= this.o.endDate.getUTCFullYear() && month >= this.o.endDate.getUTCMonth()) {\n            this.picker.find('.next').css({\n              visibility: 'hidden'\n            });\n          } else {\n            this.picker.find('.next').css({\n              visibility: 'visible'\n            });\n          }\n\n          break;\n\n        case 1:\n        case 2:\n          if (this.o.startDate !== -Infinity && year <= this.o.startDate.getUTCFullYear()) {\n            this.picker.find('.prev').css({\n              visibility: 'hidden'\n            });\n          } else {\n            this.picker.find('.prev').css({\n              visibility: 'visible'\n            });\n          }\n\n          if (this.o.endDate !== Infinity && year >= this.o.endDate.getUTCFullYear()) {\n            this.picker.find('.next').css({\n              visibility: 'hidden'\n            });\n          } else {\n            this.picker.find('.next').css({\n              visibility: 'visible'\n            });\n          }\n\n          break;\n      }\n    },\n    click: function click(e) {\n      e.preventDefault();\n      var target = $(e.target).closest('span, td, th'),\n          year,\n          month,\n          day;\n\n      if (target.length === 1) {\n        switch (target[0].nodeName.toLowerCase()) {\n          case 'th':\n            switch (target[0].className) {\n              case 'datepicker-switch':\n                this.showMode(1);\n                break;\n\n              case 'prev':\n              case 'next':\n                var dir = DPGlobal.modes[this.viewMode].navStep * (target[0].className === 'prev' ? -1 : 1);\n\n                switch (this.viewMode) {\n                  case 0:\n                    this.viewDate = this.moveMonth(this.viewDate, dir);\n\n                    this._trigger('changeMonth', this.viewDate);\n\n                    break;\n\n                  case 1:\n                  case 2:\n                    this.viewDate = this.moveYear(this.viewDate, dir);\n                    if (this.viewMode === 1) this._trigger('changeYear', this.viewDate);\n                    break;\n                }\n\n                this.fill();\n                break;\n\n              case 'today':\n                var date = new Date();\n                date = UTCDate(date.getFullYear(), date.getMonth(), date.getDate(), 0, 0, 0);\n                this.showMode(-2);\n                var which = this.o.todayBtn === 'linked' ? null : 'view';\n\n                this._setDate(date, which);\n\n                break;\n\n              case 'clear':\n                var element;\n                if (this.isInput) element = this.element;else if (this.component) element = this.element.find('input');\n                if (element) element.val(\"\").change();\n                this.update();\n\n                this._trigger('changeDate');\n\n                if (this.o.autoclose) this.hide();\n                break;\n            }\n\n            break;\n\n          case 'span':\n            if (!target.is('.disabled')) {\n              this.viewDate.setUTCDate(1);\n\n              if (target.is('.month')) {\n                day = 1;\n                month = target.parent().find('span').index(target);\n                year = this.viewDate.getUTCFullYear();\n                this.viewDate.setUTCMonth(month);\n\n                this._trigger('changeMonth', this.viewDate);\n\n                if (this.o.minViewMode === 1) {\n                  this._setDate(UTCDate(year, month, day));\n                }\n              } else {\n                day = 1;\n                month = 0;\n                year = parseInt(target.text(), 10) || 0;\n                this.viewDate.setUTCFullYear(year);\n\n                this._trigger('changeYear', this.viewDate);\n\n                if (this.o.minViewMode === 2) {\n                  this._setDate(UTCDate(year, month, day));\n                }\n              }\n\n              this.showMode(-1);\n              this.fill();\n            }\n\n            break;\n\n          case 'td':\n            if (target.is('.day') && !target.is('.disabled')) {\n              day = parseInt(target.text(), 10) || 1;\n              year = this.viewDate.getUTCFullYear();\n              month = this.viewDate.getUTCMonth();\n\n              if (target.is('.old')) {\n                if (month === 0) {\n                  month = 11;\n                  year -= 1;\n                } else {\n                  month -= 1;\n                }\n              } else if (target.is('.new')) {\n                if (month === 11) {\n                  month = 0;\n                  year += 1;\n                } else {\n                  month += 1;\n                }\n              }\n\n              this._setDate(UTCDate(year, month, day));\n            }\n\n            break;\n        }\n      }\n\n      if (this.picker.is(':visible') && this._focused_from) {\n        $(this._focused_from).focus();\n      }\n\n      delete this._focused_from;\n    },\n    _toggle_multidate: function _toggle_multidate(date) {\n      var ix = this.dates.contains(date);\n\n      if (!date) {\n        this.dates.clear();\n      } else if (ix !== -1) {\n        this.dates.remove(ix);\n      } else {\n        this.dates.push(date);\n      }\n\n      if (typeof this.o.multidate === 'number') while (this.dates.length > this.o.multidate) {\n        this.dates.remove(0);\n      }\n    },\n    _setDate: function _setDate(date, which) {\n      if (!which || which === 'date') this._toggle_multidate(date && new Date(date));\n      if (!which || which === 'view') this.viewDate = date && new Date(date);\n      this.fill();\n      this.setValue();\n\n      this._trigger('changeDate');\n\n      var element;\n\n      if (this.isInput) {\n        element = this.element;\n      } else if (this.component) {\n        element = this.element.find('input');\n      }\n\n      if (element) {\n        element.change();\n      }\n\n      if (this.o.autoclose && (!which || which === 'date')) {\n        this.hide();\n      }\n    },\n    moveMonth: function moveMonth(date, dir) {\n      if (!date) return undefined;\n      if (!dir) return date;\n      var new_date = new Date(date.valueOf()),\n          day = new_date.getUTCDate(),\n          month = new_date.getUTCMonth(),\n          mag = Math.abs(dir),\n          new_month,\n          test;\n      dir = dir > 0 ? 1 : -1;\n\n      if (mag === 1) {\n        test = dir === -1 // If going back one month, make sure month is not current month\n        // (eg, Mar 31 -> Feb 31 == Feb 28, not Mar 02)\n        ? function () {\n          return new_date.getUTCMonth() === month;\n        } // If going forward one month, make sure month is as expected\n        // (eg, Jan 31 -> Feb 31 == Feb 28, not Mar 02)\n        : function () {\n          return new_date.getUTCMonth() !== new_month;\n        };\n        new_month = month + dir;\n        new_date.setUTCMonth(new_month); // Dec -> Jan (12) or Jan -> Dec (-1) -- limit expected date to 0-11\n\n        if (new_month < 0 || new_month > 11) new_month = (new_month + 12) % 12;\n      } else {\n        // For magnitudes >1, move one month at a time...\n        for (var i = 0; i < mag; i++) {\n          // ...which might decrease the day (eg, Jan 31 to Feb 28, etc)...\n          new_date = this.moveMonth(new_date, dir);\n        } // ...then reset the day, keeping it in the new month\n\n\n        new_month = new_date.getUTCMonth();\n        new_date.setUTCDate(day);\n\n        test = function test() {\n          return new_month !== new_date.getUTCMonth();\n        };\n      } // Common date-resetting loop -- if date is beyond end of month, make it\n      // end of month\n\n\n      while (test()) {\n        new_date.setUTCDate(--day);\n        new_date.setUTCMonth(new_month);\n      }\n\n      return new_date;\n    },\n    moveYear: function moveYear(date, dir) {\n      return this.moveMonth(date, dir * 12);\n    },\n    dateWithinRange: function dateWithinRange(date) {\n      return date >= this.o.startDate && date <= this.o.endDate;\n    },\n    keydown: function keydown(e) {\n      if (this.picker.is(':not(:visible)')) {\n        if (e.keyCode === 27) // allow escape to hide and re-show picker\n          this.show();\n        return;\n      }\n\n      var dateChanged = false,\n          dir,\n          newDate,\n          newViewDate,\n          focusDate = this.focusDate || this.viewDate;\n\n      switch (e.keyCode) {\n        case 27:\n          // escape\n          if (this.focusDate) {\n            this.focusDate = null;\n            this.viewDate = this.dates.get(-1) || this.viewDate;\n            this.fill();\n          } else this.hide();\n\n          e.preventDefault();\n          break;\n\n        case 37: // left\n\n        case 39:\n          // right\n          if (!this.o.keyboardNavigation) break;\n          dir = e.keyCode === 37 ? -1 : 1;\n\n          if (e.ctrlKey) {\n            newDate = this.moveYear(this.dates.get(-1) || UTCToday(), dir);\n            newViewDate = this.moveYear(focusDate, dir);\n\n            this._trigger('changeYear', this.viewDate);\n          } else if (e.shiftKey) {\n            newDate = this.moveMonth(this.dates.get(-1) || UTCToday(), dir);\n            newViewDate = this.moveMonth(focusDate, dir);\n\n            this._trigger('changeMonth', this.viewDate);\n          } else {\n            newDate = new Date(this.dates.get(-1) || UTCToday());\n            newDate.setUTCDate(newDate.getUTCDate() + dir);\n            newViewDate = new Date(focusDate);\n            newViewDate.setUTCDate(focusDate.getUTCDate() + dir);\n          }\n\n          if (this.dateWithinRange(newDate)) {\n            this.focusDate = this.viewDate = newViewDate;\n            this.setValue();\n            this.fill();\n            e.preventDefault();\n          }\n\n          break;\n\n        case 38: // up\n\n        case 40:\n          // down\n          if (!this.o.keyboardNavigation) break;\n          dir = e.keyCode === 38 ? -1 : 1;\n\n          if (e.ctrlKey) {\n            newDate = this.moveYear(this.dates.get(-1) || UTCToday(), dir);\n            newViewDate = this.moveYear(focusDate, dir);\n\n            this._trigger('changeYear', this.viewDate);\n          } else if (e.shiftKey) {\n            newDate = this.moveMonth(this.dates.get(-1) || UTCToday(), dir);\n            newViewDate = this.moveMonth(focusDate, dir);\n\n            this._trigger('changeMonth', this.viewDate);\n          } else {\n            newDate = new Date(this.dates.get(-1) || UTCToday());\n            newDate.setUTCDate(newDate.getUTCDate() + dir * 7);\n            newViewDate = new Date(focusDate);\n            newViewDate.setUTCDate(focusDate.getUTCDate() + dir * 7);\n          }\n\n          if (this.dateWithinRange(newDate)) {\n            this.focusDate = this.viewDate = newViewDate;\n            this.setValue();\n            this.fill();\n            e.preventDefault();\n          }\n\n          break;\n\n        case 32:\n          // spacebar\n          // Spacebar is used in manually typing dates in some formats.\n          // As such, its behavior should not be hijacked.\n          break;\n\n        case 13:\n          // enter\n          focusDate = this.focusDate || this.dates.get(-1) || this.viewDate;\n\n          this._toggle_multidate(focusDate);\n\n          dateChanged = true;\n          this.focusDate = null;\n          this.viewDate = this.dates.get(-1) || this.viewDate;\n          this.setValue();\n          this.fill();\n\n          if (this.picker.is(':visible')) {\n            e.preventDefault();\n            if (this.o.autoclose) this.hide();\n          }\n\n          break;\n\n        case 9:\n          // tab\n          this.focusDate = null;\n          this.viewDate = this.dates.get(-1) || this.viewDate;\n          this.fill();\n          this.hide();\n          break;\n      }\n\n      if (dateChanged) {\n        if (this.dates.length) this._trigger('changeDate');else this._trigger('clearDate');\n        var element;\n\n        if (this.isInput) {\n          element = this.element;\n        } else if (this.component) {\n          element = this.element.find('input');\n        }\n\n        if (element) {\n          element.change();\n        }\n      }\n    },\n    showMode: function showMode(dir) {\n      if (dir) {\n        this.viewMode = Math.max(this.o.minViewMode, Math.min(2, this.viewMode + dir));\n      }\n\n      this.picker.find('>div').hide().filter('.datepicker-' + DPGlobal.modes[this.viewMode].clsName).css('display', 'block');\n      this.updateNavArrows();\n    }\n  };\n\n  var DateRangePicker = function DateRangePicker(element, options) {\n    this.element = $(element);\n    this.inputs = $.map(options.inputs, function (i) {\n      return i.jquery ? i[0] : i;\n    });\n    delete options.inputs;\n    $(this.inputs).datepicker(options).bind('changeDate', $.proxy(this.dateUpdated, this));\n    this.pickers = $.map(this.inputs, function (i) {\n      return $(i).data('datepicker');\n    });\n    this.updateDates();\n  };\n\n  DateRangePicker.prototype = {\n    updateDates: function updateDates() {\n      this.dates = $.map(this.pickers, function (i) {\n        return i.getUTCDate();\n      });\n      this.updateRanges();\n    },\n    updateRanges: function updateRanges() {\n      var range = $.map(this.dates, function (d) {\n        return d.valueOf();\n      });\n      $.each(this.pickers, function (i, p) {\n        p.setRange(range);\n      });\n    },\n    dateUpdated: function dateUpdated(e) {\n      // `this.updating` is a workaround for preventing infinite recursion\n      // between `changeDate` triggering and `setUTCDate` calling.  Until\n      // there is a better mechanism.\n      if (this.updating) return;\n      this.updating = true;\n      var dp = $(e.target).data('datepicker'),\n          new_date = dp.getUTCDate(),\n          i = $.inArray(e.target, this.inputs),\n          l = this.inputs.length;\n      if (i === -1) return;\n      $.each(this.pickers, function (i, p) {\n        if (!p.getUTCDate()) p.setUTCDate(new_date);\n      });\n\n      if (new_date < this.dates[i]) {\n        // Date being moved earlier/left\n        while (i >= 0 && new_date < this.dates[i]) {\n          this.pickers[i--].setUTCDate(new_date);\n        }\n      } else if (new_date > this.dates[i]) {\n        // Date being moved later/right\n        while (i < l && new_date > this.dates[i]) {\n          this.pickers[i++].setUTCDate(new_date);\n        }\n      }\n\n      this.updateDates();\n      delete this.updating;\n    },\n    remove: function remove() {\n      $.map(this.pickers, function (p) {\n        p.remove();\n      });\n      delete this.element.data().datepicker;\n    }\n  };\n\n  function opts_from_el(el, prefix) {\n    // Derive options from element data-attrs\n    var data = $(el).data(),\n        out = {},\n        inkey,\n        replace = new RegExp('^' + prefix.toLowerCase() + '([A-Z])');\n    prefix = new RegExp('^' + prefix.toLowerCase());\n\n    function re_lower(_, a) {\n      return a.toLowerCase();\n    }\n\n    for (var key in data) {\n      if (prefix.test(key)) {\n        inkey = key.replace(replace, re_lower);\n        out[inkey] = data[key];\n      }\n    }\n\n    return out;\n  }\n\n  function opts_from_locale(lang) {\n    // Derive options from locale plugins\n    var out = {}; // Check if \"de-DE\" style date is available, if not language should\n    // fallback to 2 letter code eg \"de\"\n\n    if (!dates[lang]) {\n      lang = lang.split('-')[0];\n      if (!dates[lang]) return;\n    }\n\n    var d = dates[lang];\n    $.each(locale_opts, function (i, k) {\n      if (k in d) out[k] = d[k];\n    });\n    return out;\n  }\n\n  var old = $.fn.datepicker;\n\n  $.fn.datepicker = function (option) {\n    var args = Array.apply(null, arguments);\n    args.shift();\n    var internal_return;\n    this.each(function () {\n      var $this = $(this),\n          data = $this.data('datepicker'),\n          options = typeof option === 'object' && option;\n\n      if (!data) {\n        var elopts = opts_from_el(this, 'date'),\n            // Preliminary otions\n        xopts = $.extend({}, defaults, elopts, options),\n            locopts = opts_from_locale(xopts.language),\n            // Options priority: js args, data-attrs, locales, defaults\n        opts = $.extend({}, defaults, locopts, elopts, options);\n\n        if ($this.is('.input-daterange') || opts.inputs) {\n          var ropts = {\n            inputs: opts.inputs || $this.find('input').toArray()\n          };\n          $this.data('datepicker', data = new DateRangePicker(this, $.extend(opts, ropts)));\n        } else {\n          $this.data('datepicker', data = new Datepicker(this, opts));\n        }\n      }\n\n      if (typeof option === 'string' && typeof data[option] === 'function') {\n        internal_return = data[option].apply(data, args);\n        if (internal_return !== undefined) return false;\n      }\n    });\n    if (internal_return !== undefined) return internal_return;else return this;\n  };\n\n  var defaults = $.fn.datepicker.defaults = {\n    autoclose: false,\n    beforeShowDay: $.noop,\n    calendarWeeks: false,\n    clearBtn: false,\n    daysOfWeekDisabled: [],\n    endDate: Infinity,\n    forceParse: true,\n    format: 'mm/dd/yyyy',\n    keyboardNavigation: true,\n    language: 'en',\n    minViewMode: 0,\n    multidate: false,\n    multidateSeparator: ',',\n    orientation: \"auto\",\n    rtl: false,\n    startDate: -Infinity,\n    startView: 0,\n    todayBtn: false,\n    todayHighlight: false,\n    weekStart: 0\n  };\n  var locale_opts = $.fn.datepicker.locale_opts = ['format', 'rtl', 'weekStart'];\n  $.fn.datepicker.Constructor = Datepicker;\n  var dates = $.fn.datepicker.dates = {\n    en: {\n      days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\", \"Sunday\"],\n      daysShort: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\", \"Sun\"],\n      daysMin: [\"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\", \"Su\"],\n      months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n      monthsShort: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"],\n      today: \"Today\",\n      clear: \"Clear\"\n    }\n  };\n  var DPGlobal = {\n    modes: [{\n      clsName: 'days',\n      navFnc: 'Month',\n      navStep: 1\n    }, {\n      clsName: 'months',\n      navFnc: 'FullYear',\n      navStep: 1\n    }, {\n      clsName: 'years',\n      navFnc: 'FullYear',\n      navStep: 10\n    }],\n    isLeapYear: function isLeapYear(year) {\n      return year % 4 === 0 && year % 100 !== 0 || year % 400 === 0;\n    },\n    getDaysInMonth: function getDaysInMonth(year, month) {\n      return [31, DPGlobal.isLeapYear(year) ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month];\n    },\n    validParts: /dd?|DD?|mm?|MM?|yy(?:yy)?/g,\n    nonpunctuation: /[^ -\\/:-@\\[\\u3400-\\u9fff-`{-~\\t\\n\\r]+/g,\n    parseFormat: function parseFormat(format) {\n      // IE treats \\0 as a string end in inputs (truncating the value),\n      // so it's a bad format delimiter, anyway\n      var separators = format.replace(this.validParts, '\\0').split('\\0'),\n          parts = format.match(this.validParts);\n\n      if (!separators || !separators.length || !parts || parts.length === 0) {\n        throw new Error(\"Invalid date format.\");\n      }\n\n      return {\n        separators: separators,\n        parts: parts\n      };\n    },\n    parseDate: function parseDate(date, format, language) {\n      if (!date) return undefined;\n      if (date instanceof Date) return date;\n      if (typeof format === 'string') format = DPGlobal.parseFormat(format);\n      var part_re = /([\\-+]\\d+)([dmwy])/,\n          parts = date.match(/([\\-+]\\d+)([dmwy])/g),\n          part,\n          dir,\n          i;\n\n      if (/^[\\-+]\\d+[dmwy]([\\s,]+[\\-+]\\d+[dmwy])*$/.test(date)) {\n        date = new Date();\n\n        for (i = 0; i < parts.length; i++) {\n          part = part_re.exec(parts[i]);\n          dir = parseInt(part[1]);\n\n          switch (part[2]) {\n            case 'd':\n              date.setUTCDate(date.getUTCDate() + dir);\n              break;\n\n            case 'm':\n              date = Datepicker.prototype.moveMonth.call(Datepicker.prototype, date, dir);\n              break;\n\n            case 'w':\n              date.setUTCDate(date.getUTCDate() + dir * 7);\n              break;\n\n            case 'y':\n              date = Datepicker.prototype.moveYear.call(Datepicker.prototype, date, dir);\n              break;\n          }\n        }\n\n        return UTCDate(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate(), 0, 0, 0);\n      }\n\n      parts = date && date.match(this.nonpunctuation) || [];\n      date = new Date();\n      var parsed = {},\n          setters_order = ['yyyy', 'yy', 'M', 'MM', 'm', 'mm', 'd', 'dd'],\n          setters_map = {\n        yyyy: function yyyy(d, v) {\n          return d.setUTCFullYear(v);\n        },\n        yy: function yy(d, v) {\n          return d.setUTCFullYear(2000 + v);\n        },\n        m: function m(d, v) {\n          if (isNaN(d)) return d;\n          v -= 1;\n\n          while (v < 0) {\n            v += 12;\n          }\n\n          v %= 12;\n          d.setUTCMonth(v);\n\n          while (d.getUTCMonth() !== v) {\n            d.setUTCDate(d.getUTCDate() - 1);\n          }\n\n          return d;\n        },\n        d: function d(_d, v) {\n          return _d.setUTCDate(v);\n        }\n      },\n          val,\n          filtered;\n      setters_map['M'] = setters_map['MM'] = setters_map['mm'] = setters_map['m'];\n      setters_map['dd'] = setters_map['d'];\n      date = UTCDate(date.getFullYear(), date.getMonth(), date.getDate(), 0, 0, 0);\n      var fparts = format.parts.slice(); // Remove noop parts\n\n      if (parts.length !== fparts.length) {\n        fparts = $(fparts).filter(function (i, p) {\n          return $.inArray(p, setters_order) !== -1;\n        }).toArray();\n      } // Process remainder\n\n\n      function match_part() {\n        var m = this.slice(0, parts[i].length),\n            p = parts[i].slice(0, m.length);\n        return m === p;\n      }\n\n      if (parts.length === fparts.length) {\n        var cnt;\n\n        for (i = 0, cnt = fparts.length; i < cnt; i++) {\n          val = parseInt(parts[i], 10);\n          part = fparts[i];\n\n          if (isNaN(val)) {\n            switch (part) {\n              case 'MM':\n                filtered = $(dates[language].months).filter(match_part);\n                val = $.inArray(filtered[0], dates[language].months) + 1;\n                break;\n\n              case 'M':\n                filtered = $(dates[language].monthsShort).filter(match_part);\n                val = $.inArray(filtered[0], dates[language].monthsShort) + 1;\n                break;\n            }\n          }\n\n          parsed[part] = val;\n        }\n\n        var _date, s;\n\n        for (i = 0; i < setters_order.length; i++) {\n          s = setters_order[i];\n\n          if (s in parsed && !isNaN(parsed[s])) {\n            _date = new Date(date);\n            setters_map[s](_date, parsed[s]);\n            if (!isNaN(_date)) date = _date;\n          }\n        }\n      }\n\n      return date;\n    },\n    formatDate: function formatDate(date, format, language) {\n      if (!date) return '';\n      if (typeof format === 'string') format = DPGlobal.parseFormat(format);\n      var val = {\n        d: date.getUTCDate(),\n        D: dates[language].daysShort[date.getUTCDay()],\n        DD: dates[language].days[date.getUTCDay()],\n        m: date.getUTCMonth() + 1,\n        M: dates[language].monthsShort[date.getUTCMonth()],\n        MM: dates[language].months[date.getUTCMonth()],\n        yy: date.getUTCFullYear().toString().substring(2),\n        yyyy: date.getUTCFullYear()\n      };\n      val.dd = (val.d < 10 ? '0' : '') + val.d;\n      val.mm = (val.m < 10 ? '0' : '') + val.m;\n      date = [];\n      var seps = $.extend([], format.separators);\n\n      for (var i = 0, cnt = format.parts.length; i <= cnt; i++) {\n        if (seps.length) date.push(seps.shift());\n        date.push(val[format.parts[i]]);\n      }\n\n      return date.join('');\n    },\n    headTemplate: '<thead>' + '<tr>' + '<th class=\"prev\">&laquo;</th>' + '<th colspan=\"5\" class=\"datepicker-switch\"></th>' + '<th class=\"next\">&raquo;</th>' + '</tr>' + '</thead>',\n    contTemplate: '<tbody><tr><td colspan=\"7\"></td></tr></tbody>',\n    footTemplate: '<tfoot>' + '<tr>' + '<th colspan=\"7\" class=\"today\"></th>' + '</tr>' + '<tr>' + '<th colspan=\"7\" class=\"clear\"></th>' + '</tr>' + '</tfoot>'\n  };\n  DPGlobal.template = '<div class=\"datepicker\">' + '<div class=\"datepicker-days\">' + '<table class=\" table-condensed\">' + DPGlobal.headTemplate + '<tbody></tbody>' + DPGlobal.footTemplate + '</table>' + '</div>' + '<div class=\"datepicker-months\">' + '<table class=\"table-condensed\">' + DPGlobal.headTemplate + DPGlobal.contTemplate + DPGlobal.footTemplate + '</table>' + '</div>' + '<div class=\"datepicker-years\">' + '<table class=\"table-condensed\">' + DPGlobal.headTemplate + DPGlobal.contTemplate + DPGlobal.footTemplate + '</table>' + '</div>' + '</div>';\n  $.fn.datepicker.DPGlobal = DPGlobal;\n  /* DATEPICKER NO CONFLICT\n  * =================== */\n\n  $.fn.datepicker.noConflict = function () {\n    $.fn.datepicker = old;\n    return this;\n  };\n  /* DATEPICKER DATA-API\n  * ================== */\n\n\n  $(document).on('focus.datepicker.data-api click.datepicker.data-api', '[data-provide=\"datepicker\"]', function (e) {\n    var $this = $(this);\n    if ($this.data('datepicker')) return;\n    e.preventDefault(); // component click requires us to explicitly show it\n\n    $this.datepicker('show');\n  });\n  $(function () {\n    $('[data-provide=\"datepicker-inline\"]').datepicker();\n  });\n})(window.jQuery);","map":{"version":3,"sources":["/home/marviorocha/www/proedu/app/javascript/src/js/bootstrap-datepicker.js"],"names":["$","undefined","$window","window","UTCDate","Date","UTC","apply","arguments","UTCToday","today","getFullYear","getMonth","getDate","alias","method","DateArray","extras","get","i","slice","contains","d","val","valueOf","l","length","remove","splice","replace","new_array","isArray","clear","push","copy","a","extend","Datepicker","element","options","dates","viewDate","focusDate","_process_options","isInline","isInput","is","component","find","hasInput","picker","DPGlobal","template","_buildEvents","_attachEvents","addClass","appendTo","o","rtl","viewMode","startView","calendarWeeks","attr","parseInt","_allow_update","setStartDate","_o","startDate","setEndDate","endDate","setDaysOfWeekDisabled","daysOfWeekDisabled","fillDow","fillMonths","update","showMode","show","prototype","constructor","opts","lang","language","split","defaults","minViewMode","Math","max","multidate","Number","multidateSeparator","String","weekStart","weekEnd","format","parseFormat","Infinity","_local_to_utc","_zero_time","parseDate","map","plc","orientation","toLowerCase","_plc","grep","word","test","x","y","_events","_secondaryEvents","_applyEvents","evs","el","ch","ev","on","_unapplyEvents","off","focus","proxy","keyup","e","inArray","keyCode","keydown","click","blur","_focused_from","target","resize","place","document","hide","_detachEvents","_attachSecondaryEvents","_detachSecondaryEvents","_trigger","event","altdate","date","local_date","_utc_to_local","trigger","type","ix","formatDate","detach","forceParse","setValue","data","datepicker","utc","getTime","getTimezoneOffset","local","_zero_utc_time","getUTCFullYear","getUTCMonth","getUTCDate","getDates","getUTCDates","setDates","args","setUTCDates","setDate","setUTCDate","formatted","getFormattedDate","change","join","updateNavArrows","calendarWidth","outerWidth","calendarHeight","outerHeight","visualPadding","windowWidth","width","windowHeight","height","scrollTop","zIndex","parents","filter","css","first","offset","parent","left","top","removeClass","yorient","top_overflow","bottom_overflow","oldDates","fromArgs","each","fill","dowCnt","html","cell","prepend","daysMin","append","monthsShort","setRange","range","getClassNames","cls","year","month","todayHighlight","getUTCDay","startYear","startMonth","endYear","endMonth","todaytxt","cleartxt","tooltip","text","months","toggle","todayBtn","clearBtn","prevMonth","day","getDaysInMonth","nextMonth","clsName","ws","th","yth","calWeek","beforeShowDay","noop","before","enabled","classes","concat","unique","empty","end","eq","yearCont","years","visibility","preventDefault","closest","nodeName","className","dir","modes","navStep","moveMonth","moveYear","which","_setDate","autoclose","index","setUTCMonth","setUTCFullYear","_toggle_multidate","new_date","mag","abs","new_month","dateWithinRange","dateChanged","newDate","newViewDate","keyboardNavigation","ctrlKey","shiftKey","min","DateRangePicker","inputs","jquery","bind","dateUpdated","pickers","updateDates","updateRanges","p","updating","dp","opts_from_el","prefix","out","inkey","RegExp","re_lower","_","key","opts_from_locale","locale_opts","k","old","fn","option","Array","shift","internal_return","$this","elopts","xopts","locopts","ropts","toArray","Constructor","en","days","daysShort","navFnc","isLeapYear","validParts","nonpunctuation","separators","parts","match","Error","part_re","part","exec","call","parsed","setters_order","setters_map","yyyy","v","yy","m","isNaN","filtered","fparts","match_part","cnt","_date","s","D","DD","M","MM","toString","substring","dd","mm","seps","headTemplate","contTemplate","footTemplate","noConflict","jQuery"],"mappings":"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","sourcesContent":["/* =========================================================\n * bootstrap-datepicker.js\n * Repo: https://github.com/eternicode/bootstrap-datepicker/\n * Demo: http://eternicode.github.io/bootstrap-datepicker/\n * Docs: http://bootstrap-datepicker.readthedocs.org/\n * Forked from http://www.eyecon.ro/bootstrap-datepicker\n * =========================================================\n * Started by Stefan Petre; improvements by Andrew Rowls + contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * ========================================================= */\n\n(function($, undefined){\n\n\tvar $window = $(window);\n\n\tfunction UTCDate(){\n\t\treturn new Date(Date.UTC.apply(Date, arguments));\n\t}\n\tfunction UTCToday(){\n\t\tvar today = new Date();\n\t\treturn UTCDate(today.getFullYear(), today.getMonth(), today.getDate());\n\t}\n\tfunction alias(method){\n\t\treturn function(){\n\t\t\treturn this[method].apply(this, arguments);\n\t\t};\n\t}\n\n\tvar DateArray = (function(){\n\t\tvar extras = {\n\t\t\tget: function(i){\n\t\t\t\treturn this.slice(i)[0];\n\t\t\t},\n\t\t\tcontains: function(d){\n\t\t\t\t// Array.indexOf is not cross-browser;\n\t\t\t\t// $.inArray doesn't work with Dates\n\t\t\t\tvar val = d && d.valueOf();\n\t\t\t\tfor (var i=0, l=this.length; i < l; i++)\n\t\t\t\t\tif (this[i].valueOf() === val)\n\t\t\t\t\t\treturn i;\n\t\t\t\treturn -1;\n\t\t\t},\n\t\t\tremove: function(i){\n\t\t\t\tthis.splice(i,1);\n\t\t\t},\n\t\t\treplace: function(new_array){\n\t\t\t\tif (!new_array)\n\t\t\t\t\treturn;\n\t\t\t\tif (!$.isArray(new_array))\n\t\t\t\t\tnew_array = [new_array];\n\t\t\t\tthis.clear();\n\t\t\t\tthis.push.apply(this, new_array);\n\t\t\t},\n\t\t\tclear: function(){\n\t\t\t\tthis.length = 0;\n\t\t\t},\n\t\t\tcopy: function(){\n\t\t\t\tvar a = new DateArray();\n\t\t\t\ta.replace(this);\n\t\t\t\treturn a;\n\t\t\t}\n\t\t};\n\n\t\treturn function(){\n\t\t\tvar a = [];\n\t\t\ta.push.apply(a, arguments);\n\t\t\t$.extend(a, extras);\n\t\t\treturn a;\n\t\t};\n\t})();\n\n\n\t// Picker object\n\n\tvar Datepicker = function(element, options){\n\t\tthis.dates = new DateArray();\n\t\tthis.viewDate = UTCToday();\n\t\tthis.focusDate = null;\n\n\t\tthis._process_options(options);\n\n\t\tthis.element = $(element);\n\t\tthis.isInline = false;\n\t\tthis.isInput = this.element.is('input');\n\t\tthis.component = this.element.is('.date') ? this.element.find('.add-on, .input-group-addon, .btn') : false;\n\t\tthis.hasInput = this.component && this.element.find('input').length;\n\t\tif (this.component && this.component.length === 0)\n\t\t\tthis.component = false;\n\n\t\tthis.picker = $(DPGlobal.template);\n\t\tthis._buildEvents();\n\t\tthis._attachEvents();\n\n\t\tif (this.isInline){\n\t\t\tthis.picker.addClass('datepicker-inline').appendTo(this.element);\n\t\t}\n\t\telse {\n\t\t\tthis.picker.addClass('datepicker-dropdown dropdown-menu');\n\t\t}\n\n\t\tif (this.o.rtl){\n\t\t\tthis.picker.addClass('datepicker-rtl');\n\t\t}\n\n\t\tthis.viewMode = this.o.startView;\n\n\t\tif (this.o.calendarWeeks)\n\t\t\tthis.picker.find('tfoot th.today')\n\t\t\t\t\t\t.attr('colspan', function(i, val){\n\t\t\t\t\t\t\treturn parseInt(val) + 1;\n\t\t\t\t\t\t});\n\n\t\tthis._allow_update = false;\n\n\t\tthis.setStartDate(this._o.startDate);\n\t\tthis.setEndDate(this._o.endDate);\n\t\tthis.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled);\n\n\t\tthis.fillDow();\n\t\tthis.fillMonths();\n\n\t\tthis._allow_update = true;\n\n\t\tthis.update();\n\t\tthis.showMode();\n\n\t\tif (this.isInline){\n\t\t\tthis.show();\n\t\t}\n\t};\n\n\tDatepicker.prototype = {\n\t\tconstructor: Datepicker,\n\n\t\t_process_options: function(opts){\n\t\t\t// Store raw options for reference\n\t\t\tthis._o = $.extend({}, this._o, opts);\n\t\t\t// Processed options\n\t\t\tvar o = this.o = $.extend({}, this._o);\n\n\t\t\t// Check if \"de-DE\" style date is available, if not language should\n\t\t\t// fallback to 2 letter code eg \"de\"\n\t\t\tvar lang = o.language;\n\t\t\tif (!dates[lang]){\n\t\t\t\tlang = lang.split('-')[0];\n\t\t\t\tif (!dates[lang])\n\t\t\t\t\tlang = defaults.language;\n\t\t\t}\n\t\t\to.language = lang;\n\n\t\t\tswitch (o.startView){\n\t\t\t\tcase 2:\n\t\t\t\tcase 'decade':\n\t\t\t\t\to.startView = 2;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 1:\n\t\t\t\tcase 'year':\n\t\t\t\t\to.startView = 1;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\to.startView = 0;\n\t\t\t}\n\n\t\t\tswitch (o.minViewMode){\n\t\t\t\tcase 1:\n\t\t\t\tcase 'months':\n\t\t\t\t\to.minViewMode = 1;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 2:\n\t\t\t\tcase 'years':\n\t\t\t\t\to.minViewMode = 2;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\to.minViewMode = 0;\n\t\t\t}\n\n\t\t\to.startView = Math.max(o.startView, o.minViewMode);\n\n\t\t\t// true, false, or Number > 0\n\t\t\tif (o.multidate !== true){\n\t\t\t\to.multidate = Number(o.multidate) || false;\n\t\t\t\tif (o.multidate !== false)\n\t\t\t\t\to.multidate = Math.max(0, o.multidate);\n\t\t\t\telse\n\t\t\t\t\to.multidate = 1;\n\t\t\t}\n\t\t\to.multidateSeparator = String(o.multidateSeparator);\n\n\t\t\to.weekStart %= 7;\n\t\t\to.weekEnd = ((o.weekStart + 6) % 7);\n\n\t\t\tvar format = DPGlobal.parseFormat(o.format);\n\t\t\tif (o.startDate !== -Infinity){\n\t\t\t\tif (!!o.startDate){\n\t\t\t\t\tif (o.startDate instanceof Date)\n\t\t\t\t\t\to.startDate = this._local_to_utc(this._zero_time(o.startDate));\n\t\t\t\t\telse\n\t\t\t\t\t\to.startDate = DPGlobal.parseDate(o.startDate, format, o.language);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\to.startDate = -Infinity;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (o.endDate !== Infinity){\n\t\t\t\tif (!!o.endDate){\n\t\t\t\t\tif (o.endDate instanceof Date)\n\t\t\t\t\t\to.endDate = this._local_to_utc(this._zero_time(o.endDate));\n\t\t\t\t\telse\n\t\t\t\t\t\to.endDate = DPGlobal.parseDate(o.endDate, format, o.language);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\to.endDate = Infinity;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\to.daysOfWeekDisabled = o.daysOfWeekDisabled||[];\n\t\t\tif (!$.isArray(o.daysOfWeekDisabled))\n\t\t\t\to.daysOfWeekDisabled = o.daysOfWeekDisabled.split(/[,\\s]*/);\n\t\t\to.daysOfWeekDisabled = $.map(o.daysOfWeekDisabled, function(d){\n\t\t\t\treturn parseInt(d, 10);\n\t\t\t});\n\n\t\t\tvar plc = String(o.orientation).toLowerCase().split(/\\s+/g),\n\t\t\t\t_plc = o.orientation.toLowerCase();\n\t\t\tplc = $.grep(plc, function(word){\n\t\t\t\treturn (/^auto|left|right|top|bottom$/).test(word);\n\t\t\t});\n\t\t\to.orientation = {x: 'auto', y: 'auto'};\n\t\t\tif (!_plc || _plc === 'auto')\n\t\t\t\t; // no action\n\t\t\telse if (plc.length === 1){\n\t\t\t\tswitch (plc[0]){\n\t\t\t\t\tcase 'top':\n\t\t\t\t\tcase 'bottom':\n\t\t\t\t\t\to.orientation.y = plc[0];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'left':\n\t\t\t\t\tcase 'right':\n\t\t\t\t\t\to.orientation.x = plc[0];\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\t_plc = $.grep(plc, function(word){\n\t\t\t\t\treturn (/^left|right$/).test(word);\n\t\t\t\t});\n\t\t\t\to.orientation.x = _plc[0] || 'auto';\n\n\t\t\t\t_plc = $.grep(plc, function(word){\n\t\t\t\t\treturn (/^top|bottom$/).test(word);\n\t\t\t\t});\n\t\t\t\to.orientation.y = _plc[0] || 'auto';\n\t\t\t}\n\t\t},\n\t\t_events: [],\n\t\t_secondaryEvents: [],\n\t\t_applyEvents: function(evs){\n\t\t\tfor (var i=0, el, ch, ev; i < evs.length; i++){\n\t\t\t\tel = evs[i][0];\n\t\t\t\tif (evs[i].length === 2){\n\t\t\t\t\tch = undefined;\n\t\t\t\t\tev = evs[i][1];\n\t\t\t\t}\n\t\t\t\telse if (evs[i].length === 3){\n\t\t\t\t\tch = evs[i][1];\n\t\t\t\t\tev = evs[i][2];\n\t\t\t\t}\n\t\t\t\tel.on(ev, ch);\n\t\t\t}\n\t\t},\n\t\t_unapplyEvents: function(evs){\n\t\t\tfor (var i=0, el, ev, ch; i < evs.length; i++){\n\t\t\t\tel = evs[i][0];\n\t\t\t\tif (evs[i].length === 2){\n\t\t\t\t\tch = undefined;\n\t\t\t\t\tev = evs[i][1];\n\t\t\t\t}\n\t\t\t\telse if (evs[i].length === 3){\n\t\t\t\t\tch = evs[i][1];\n\t\t\t\t\tev = evs[i][2];\n\t\t\t\t}\n\t\t\t\tel.off(ev, ch);\n\t\t\t}\n\t\t},\n\t\t_buildEvents: function(){\n\t\t\tif (this.isInput){ // single input\n\t\t\t\tthis._events = [\n\t\t\t\t\t[this.element, {\n\t\t\t\t\t\tfocus: $.proxy(this.show, this),\n\t\t\t\t\t\tkeyup: $.proxy(function(e){\n\t\t\t\t\t\t\tif ($.inArray(e.keyCode, [27,37,39,38,40,32,13,9]) === -1)\n\t\t\t\t\t\t\t\tthis.update();\n\t\t\t\t\t\t}, this),\n\t\t\t\t\t\tkeydown: $.proxy(this.keydown, this)\n\t\t\t\t\t}]\n\t\t\t\t];\n\t\t\t}\n\t\t\telse if (this.component && this.hasInput){ // component: input + button\n\t\t\t\tthis._events = [\n\t\t\t\t\t// For components that are not readonly, allow keyboard nav\n\t\t\t\t\t[this.element.find('input'), {\n\t\t\t\t\t\tfocus: $.proxy(this.show, this),\n\t\t\t\t\t\tkeyup: $.proxy(function(e){\n\t\t\t\t\t\t\tif ($.inArray(e.keyCode, [27,37,39,38,40,32,13,9]) === -1)\n\t\t\t\t\t\t\t\tthis.update();\n\t\t\t\t\t\t}, this),\n\t\t\t\t\t\tkeydown: $.proxy(this.keydown, this)\n\t\t\t\t\t}],\n\t\t\t\t\t[this.component, {\n\t\t\t\t\t\tclick: $.proxy(this.show, this)\n\t\t\t\t\t}]\n\t\t\t\t];\n\t\t\t}\n\t\t\telse if (this.element.is('div')){  // inline datepicker\n\t\t\t\tthis.isInline = true;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis._events = [\n\t\t\t\t\t[this.element, {\n\t\t\t\t\t\tclick: $.proxy(this.show, this)\n\t\t\t\t\t}]\n\t\t\t\t];\n\t\t\t}\n\t\t\tthis._events.push(\n\t\t\t\t// Component: listen for blur on element descendants\n\t\t\t\t[this.element, '*', {\n\t\t\t\t\tblur: $.proxy(function(e){\n\t\t\t\t\t\tthis._focused_from = e.target;\n\t\t\t\t\t}, this)\n\t\t\t\t}],\n\t\t\t\t// Input: listen for blur on element\n\t\t\t\t[this.element, {\n\t\t\t\t\tblur: $.proxy(function(e){\n\t\t\t\t\t\tthis._focused_from = e.target;\n\t\t\t\t\t}, this)\n\t\t\t\t}]\n\t\t\t);\n\n\t\t\tthis._secondaryEvents = [\n\t\t\t\t[this.picker, {\n\t\t\t\t\tclick: $.proxy(this.click, this)\n\t\t\t\t}],\n\t\t\t\t[$(window), {\n\t\t\t\t\tresize: $.proxy(this.place, this)\n\t\t\t\t}],\n\t\t\t\t[$(document), {\n\t\t\t\t\t'mousedown touchstart': $.proxy(function(e){\n\t\t\t\t\t\t// Clicked outside the datepicker, hide it\n\t\t\t\t\t\tif (!(\n\t\t\t\t\t\t\tthis.element.is(e.target) ||\n\t\t\t\t\t\t\tthis.element.find(e.target).length ||\n\t\t\t\t\t\t\tthis.picker.is(e.target) ||\n\t\t\t\t\t\t\tthis.picker.find(e.target).length\n\t\t\t\t\t\t)){\n\t\t\t\t\t\t\tthis.hide();\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this)\n\t\t\t\t}]\n\t\t\t];\n\t\t},\n\t\t_attachEvents: function(){\n\t\t\tthis._detachEvents();\n\t\t\tthis._applyEvents(this._events);\n\t\t},\n\t\t_detachEvents: function(){\n\t\t\tthis._unapplyEvents(this._events);\n\t\t},\n\t\t_attachSecondaryEvents: function(){\n\t\t\tthis._detachSecondaryEvents();\n\t\t\tthis._applyEvents(this._secondaryEvents);\n\t\t},\n\t\t_detachSecondaryEvents: function(){\n\t\t\tthis._unapplyEvents(this._secondaryEvents);\n\t\t},\n\t\t_trigger: function(event, altdate){\n\t\t\tvar date = altdate || this.dates.get(-1),\n\t\t\t\tlocal_date = this._utc_to_local(date);\n\n\t\t\tthis.element.trigger({\n\t\t\t\ttype: event,\n\t\t\t\tdate: local_date,\n\t\t\t\tdates: $.map(this.dates, this._utc_to_local),\n\t\t\t\tformat: $.proxy(function(ix, format){\n\t\t\t\t\tif (arguments.length === 0){\n\t\t\t\t\t\tix = this.dates.length - 1;\n\t\t\t\t\t\tformat = this.o.format;\n\t\t\t\t\t}\n\t\t\t\t\telse if (typeof ix === 'string'){\n\t\t\t\t\t\tformat = ix;\n\t\t\t\t\t\tix = this.dates.length - 1;\n\t\t\t\t\t}\n\t\t\t\t\tformat = format || this.o.format;\n\t\t\t\t\tvar date = this.dates.get(ix);\n\t\t\t\t\treturn DPGlobal.formatDate(date, format, this.o.language);\n\t\t\t\t}, this)\n\t\t\t});\n\t\t},\n\n\t\tshow: function(){\n\t\t\tif (!this.isInline)\n\t\t\t\tthis.picker.appendTo('body');\n\t\t\tthis.picker.show();\n\t\t\tthis.place();\n\t\t\tthis._attachSecondaryEvents();\n\t\t\tthis._trigger('show');\n\t\t},\n\n\t\thide: function(){\n\t\t\tif (this.isInline)\n\t\t\t\treturn;\n\t\t\tif (!this.picker.is(':visible'))\n\t\t\t\treturn;\n\t\t\tthis.focusDate = null;\n\t\t\tthis.picker.hide().detach();\n\t\t\tthis._detachSecondaryEvents();\n\t\t\tthis.viewMode = this.o.startView;\n\t\t\tthis.showMode();\n\n\t\t\tif (\n\t\t\t\tthis.o.forceParse &&\n\t\t\t\t(\n\t\t\t\t\tthis.isInput && this.element.val() ||\n\t\t\t\t\tthis.hasInput && this.element.find('input').val()\n\t\t\t\t)\n\t\t\t)\n\t\t\t\tthis.setValue();\n\t\t\tthis._trigger('hide');\n\t\t},\n\n\t\tremove: function(){\n\t\t\tthis.hide();\n\t\t\tthis._detachEvents();\n\t\t\tthis._detachSecondaryEvents();\n\t\t\tthis.picker.remove();\n\t\t\tdelete this.element.data().datepicker;\n\t\t\tif (!this.isInput){\n\t\t\t\tdelete this.element.data().date;\n\t\t\t}\n\t\t},\n\n\t\t_utc_to_local: function(utc){\n\t\t\treturn utc && new Date(utc.getTime() + (utc.getTimezoneOffset()*60000));\n\t\t},\n\t\t_local_to_utc: function(local){\n\t\t\treturn local && new Date(local.getTime() - (local.getTimezoneOffset()*60000));\n\t\t},\n\t\t_zero_time: function(local){\n\t\t\treturn local && new Date(local.getFullYear(), local.getMonth(), local.getDate());\n\t\t},\n\t\t_zero_utc_time: function(utc){\n\t\t\treturn utc && new Date(Date.UTC(utc.getUTCFullYear(), utc.getUTCMonth(), utc.getUTCDate()));\n\t\t},\n\n\t\tgetDates: function(){\n\t\t\treturn $.map(this.dates, this._utc_to_local);\n\t\t},\n\n\t\tgetUTCDates: function(){\n\t\t\treturn $.map(this.dates, function(d){\n\t\t\t\treturn new Date(d);\n\t\t\t});\n\t\t},\n\n\t\tgetDate: function(){\n\t\t\treturn this._utc_to_local(this.getUTCDate());\n\t\t},\n\n\t\tgetUTCDate: function(){\n\t\t\treturn new Date(this.dates.get(-1));\n\t\t},\n\n\t\tsetDates: function(){\n\t\t\tvar args = $.isArray(arguments[0]) ? arguments[0] : arguments;\n\t\t\tthis.update.apply(this, args);\n\t\t\tthis._trigger('changeDate');\n\t\t\tthis.setValue();\n\t\t},\n\n\t\tsetUTCDates: function(){\n\t\t\tvar args = $.isArray(arguments[0]) ? arguments[0] : arguments;\n\t\t\tthis.update.apply(this, $.map(args, this._utc_to_local));\n\t\t\tthis._trigger('changeDate');\n\t\t\tthis.setValue();\n\t\t},\n\n\t\tsetDate: alias('setDates'),\n\t\tsetUTCDate: alias('setUTCDates'),\n\n\t\tsetValue: function(){\n\t\t\tvar formatted = this.getFormattedDate();\n\t\t\tif (!this.isInput){\n\t\t\t\tif (this.component){\n\t\t\t\t\tthis.element.find('input').val(formatted).change();\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.element.val(formatted).change();\n\t\t\t}\n\t\t},\n\n\t\tgetFormattedDate: function(format){\n\t\t\tif (format === undefined)\n\t\t\t\tformat = this.o.format;\n\n\t\t\tvar lang = this.o.language;\n\t\t\treturn $.map(this.dates, function(d){\n\t\t\t\treturn DPGlobal.formatDate(d, format, lang);\n\t\t\t}).join(this.o.multidateSeparator);\n\t\t},\n\n\t\tsetStartDate: function(startDate){\n\t\t\tthis._process_options({startDate: startDate});\n\t\t\tthis.update();\n\t\t\tthis.updateNavArrows();\n\t\t},\n\n\t\tsetEndDate: function(endDate){\n\t\t\tthis._process_options({endDate: endDate});\n\t\t\tthis.update();\n\t\t\tthis.updateNavArrows();\n\t\t},\n\n\t\tsetDaysOfWeekDisabled: function(daysOfWeekDisabled){\n\t\t\tthis._process_options({daysOfWeekDisabled: daysOfWeekDisabled});\n\t\t\tthis.update();\n\t\t\tthis.updateNavArrows();\n\t\t},\n\n\t\tplace: function(){\n\t\t\tif (this.isInline)\n\t\t\t\treturn;\n\t\t\tvar calendarWidth = this.picker.outerWidth(),\n\t\t\t\tcalendarHeight = this.picker.outerHeight(),\n\t\t\t\tvisualPadding = 10,\n\t\t\t\twindowWidth = $window.width(),\n\t\t\t\twindowHeight = $window.height(),\n\t\t\t\tscrollTop = $window.scrollTop();\n\n\t\t\tvar zIndex = parseInt(this.element.parents().filter(function(){\n\t\t\t\t\treturn $(this).css('z-index') !== 'auto';\n\t\t\t\t}).first().css('z-index'))+10;\n\t\t\tvar offset = this.component ? this.component.parent().offset() : this.element.offset();\n\t\t\tvar height = this.component ? this.component.outerHeight(true) : this.element.outerHeight(false);\n\t\t\tvar width = this.component ? this.component.outerWidth(true) : this.element.outerWidth(false);\n\t\t\tvar left = offset.left,\n\t\t\t\ttop = offset.top;\n\n\t\t\tthis.picker.removeClass(\n\t\t\t\t'datepicker-orient-top datepicker-orient-bottom '+\n\t\t\t\t'datepicker-orient-right datepicker-orient-left'\n\t\t\t);\n\n\t\t\tif (this.o.orientation.x !== 'auto'){\n\t\t\t\tthis.picker.addClass('datepicker-orient-' + this.o.orientation.x);\n\t\t\t\tif (this.o.orientation.x === 'right')\n\t\t\t\t\tleft -= calendarWidth - width;\n\t\t\t}\n\t\t\t// auto x orientation is best-placement: if it crosses a window\n\t\t\t// edge, fudge it sideways\n\t\t\telse {\n\t\t\t\t// Default to left\n\t\t\t\tthis.picker.addClass('datepicker-orient-left');\n\t\t\t\tif (offset.left < 0)\n\t\t\t\t\tleft -= offset.left - visualPadding;\n\t\t\t\telse if (offset.left + calendarWidth > windowWidth)\n\t\t\t\t\tleft = windowWidth - calendarWidth - visualPadding;\n\t\t\t}\n\n\t\t\t// auto y orientation is best-situation: top or bottom, no fudging,\n\t\t\t// decision based on which shows more of the calendar\n\t\t\tvar yorient = this.o.orientation.y,\n\t\t\t\ttop_overflow, bottom_overflow;\n\t\t\tif (yorient === 'auto'){\n\t\t\t\ttop_overflow = -scrollTop + offset.top - calendarHeight;\n\t\t\t\tbottom_overflow = scrollTop + windowHeight - (offset.top + height + calendarHeight);\n\t\t\t\tif (Math.max(top_overflow, bottom_overflow) === bottom_overflow)\n\t\t\t\t\tyorient = 'top';\n\t\t\t\telse\n\t\t\t\t\tyorient = 'bottom';\n\t\t\t}\n\t\t\tthis.picker.addClass('datepicker-orient-' + yorient);\n\t\t\tif (yorient === 'top')\n\t\t\t\ttop += height;\n\t\t\telse\n\t\t\t\ttop -= calendarHeight + parseInt(this.picker.css('padding-top'));\n\n\t\t\tthis.picker.css({\n\t\t\t\ttop: top,\n\t\t\t\tleft: left,\n\t\t\t\tzIndex: zIndex\n\t\t\t});\n\t\t},\n\n\t\t_allow_update: true,\n\t\tupdate: function(){\n\t\t\tif (!this._allow_update)\n\t\t\t\treturn;\n\n\t\t\tvar oldDates = this.dates.copy(),\n\t\t\t\tdates = [],\n\t\t\t\tfromArgs = false;\n\t\t\tif (arguments.length){\n\t\t\t\t$.each(arguments, $.proxy(function(i, date){\n\t\t\t\t\tif (date instanceof Date)\n\t\t\t\t\t\tdate = this._local_to_utc(date);\n\t\t\t\t\tdates.push(date);\n\t\t\t\t}, this));\n\t\t\t\tfromArgs = true;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tdates = this.isInput\n\t\t\t\t\t\t? this.element.val()\n\t\t\t\t\t\t: this.element.data('date') || this.element.find('input').val();\n\t\t\t\tif (dates && this.o.multidate)\n\t\t\t\t\tdates = dates.split(this.o.multidateSeparator);\n\t\t\t\telse\n\t\t\t\t\tdates = [dates];\n\t\t\t\tdelete this.element.data().date;\n\t\t\t}\n\n\t\t\tdates = $.map(dates, $.proxy(function(date){\n\t\t\t\treturn DPGlobal.parseDate(date, this.o.format, this.o.language);\n\t\t\t}, this));\n\t\t\tdates = $.grep(dates, $.proxy(function(date){\n\t\t\t\treturn (\n\t\t\t\t\tdate < this.o.startDate ||\n\t\t\t\t\tdate > this.o.endDate ||\n\t\t\t\t\t!date\n\t\t\t\t);\n\t\t\t}, this), true);\n\t\t\tthis.dates.replace(dates);\n\n\t\t\tif (this.dates.length)\n\t\t\t\tthis.viewDate = new Date(this.dates.get(-1));\n\t\t\telse if (this.viewDate < this.o.startDate)\n\t\t\t\tthis.viewDate = new Date(this.o.startDate);\n\t\t\telse if (this.viewDate > this.o.endDate)\n\t\t\t\tthis.viewDate = new Date(this.o.endDate);\n\n\t\t\tif (fromArgs){\n\t\t\t\t// setting date by clicking\n\t\t\t\tthis.setValue();\n\t\t\t}\n\t\t\telse if (dates.length){\n\t\t\t\t// setting date by typing\n\t\t\t\tif (String(oldDates) !== String(this.dates))\n\t\t\t\t\tthis._trigger('changeDate');\n\t\t\t}\n\t\t\tif (!this.dates.length && oldDates.length)\n\t\t\t\tthis._trigger('clearDate');\n\n\t\t\tthis.fill();\n\t\t},\n\n\t\tfillDow: function(){\n\t\t\tvar dowCnt = this.o.weekStart,\n\t\t\t\thtml = '<tr>';\n\t\t\tif (this.o.calendarWeeks){\n\t\t\t\tvar cell = '<th class=\"cw\">&nbsp;</th>';\n\t\t\t\thtml += cell;\n\t\t\t\tthis.picker.find('.datepicker-days thead tr:first-child').prepend(cell);\n\t\t\t}\n\t\t\twhile (dowCnt < this.o.weekStart + 7){\n\t\t\t\thtml += '<th class=\"dow\">'+dates[this.o.language].daysMin[(dowCnt++)%7]+'</th>';\n\t\t\t}\n\t\t\thtml += '</tr>';\n\t\t\tthis.picker.find('.datepicker-days thead').append(html);\n\t\t},\n\n\t\tfillMonths: function(){\n\t\t\tvar html = '',\n\t\t\ti = 0;\n\t\t\twhile (i < 12){\n\t\t\t\thtml += '<span class=\"month\">'+dates[this.o.language].monthsShort[i++]+'</span>';\n\t\t\t}\n\t\t\tthis.picker.find('.datepicker-months td').html(html);\n\t\t},\n\n\t\tsetRange: function(range){\n\t\t\tif (!range || !range.length)\n\t\t\t\tdelete this.range;\n\t\t\telse\n\t\t\t\tthis.range = $.map(range, function(d){\n\t\t\t\t\treturn d.valueOf();\n\t\t\t\t});\n\t\t\tthis.fill();\n\t\t},\n\n\t\tgetClassNames: function(date){\n\t\t\tvar cls = [],\n\t\t\t\tyear = this.viewDate.getUTCFullYear(),\n\t\t\t\tmonth = this.viewDate.getUTCMonth(),\n\t\t\t\ttoday = new Date();\n\t\t\tif (date.getUTCFullYear() < year || (date.getUTCFullYear() === year && date.getUTCMonth() < month)){\n\t\t\t\tcls.push('old');\n\t\t\t}\n\t\t\telse if (date.getUTCFullYear() > year || (date.getUTCFullYear() === year && date.getUTCMonth() > month)){\n\t\t\t\tcls.push('new');\n\t\t\t}\n\t\t\tif (this.focusDate && date.valueOf() === this.focusDate.valueOf())\n\t\t\t\tcls.push('focused');\n\t\t\t// Compare internal UTC date with local today, not UTC today\n\t\t\tif (this.o.todayHighlight &&\n\t\t\t\tdate.getUTCFullYear() === today.getFullYear() &&\n\t\t\t\tdate.getUTCMonth() === today.getMonth() &&\n\t\t\t\tdate.getUTCDate() === today.getDate()){\n\t\t\t\tcls.push('today');\n\t\t\t}\n\t\t\tif (this.dates.contains(date) !== -1)\n\t\t\t\tcls.push('active');\n\t\t\tif (date.valueOf() < this.o.startDate || date.valueOf() > this.o.endDate ||\n\t\t\t\t$.inArray(date.getUTCDay(), this.o.daysOfWeekDisabled) !== -1){\n\t\t\t\tcls.push('disabled');\n\t\t\t}\n\t\t\tif (this.range){\n\t\t\t\tif (date > this.range[0] && date < this.range[this.range.length-1]){\n\t\t\t\t\tcls.push('range');\n\t\t\t\t}\n\t\t\t\tif ($.inArray(date.valueOf(), this.range) !== -1){\n\t\t\t\t\tcls.push('selected');\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn cls;\n\t\t},\n\n\t\tfill: function(){\n\t\t\tvar d = new Date(this.viewDate),\n\t\t\t\tyear = d.getUTCFullYear(),\n\t\t\t\tmonth = d.getUTCMonth(),\n\t\t\t\tstartYear = this.o.startDate !== -Infinity ? this.o.startDate.getUTCFullYear() : -Infinity,\n\t\t\t\tstartMonth = this.o.startDate !== -Infinity ? this.o.startDate.getUTCMonth() : -Infinity,\n\t\t\t\tendYear = this.o.endDate !== Infinity ? this.o.endDate.getUTCFullYear() : Infinity,\n\t\t\t\tendMonth = this.o.endDate !== Infinity ? this.o.endDate.getUTCMonth() : Infinity,\n\t\t\t\ttodaytxt = dates[this.o.language].today || dates['en'].today || '',\n\t\t\t\tcleartxt = dates[this.o.language].clear || dates['en'].clear || '',\n\t\t\t\ttooltip;\n\t\t\tthis.picker.find('.datepicker-days thead th.datepicker-switch')\n\t\t\t\t\t\t.text(dates[this.o.language].months[month]+' '+year);\n\t\t\tthis.picker.find('tfoot th.today')\n\t\t\t\t\t\t.text(todaytxt)\n\t\t\t\t\t\t.toggle(this.o.todayBtn !== false);\n\t\t\tthis.picker.find('tfoot th.clear')\n\t\t\t\t\t\t.text(cleartxt)\n\t\t\t\t\t\t.toggle(this.o.clearBtn !== false);\n\t\t\tthis.updateNavArrows();\n\t\t\tthis.fillMonths();\n\t\t\tvar prevMonth = UTCDate(year, month-1, 28),\n\t\t\t\tday = DPGlobal.getDaysInMonth(prevMonth.getUTCFullYear(), prevMonth.getUTCMonth());\n\t\t\tprevMonth.setUTCDate(day);\n\t\t\tprevMonth.setUTCDate(day - (prevMonth.getUTCDay() - this.o.weekStart + 7)%7);\n\t\t\tvar nextMonth = new Date(prevMonth);\n\t\t\tnextMonth.setUTCDate(nextMonth.getUTCDate() + 42);\n\t\t\tnextMonth = nextMonth.valueOf();\n\t\t\tvar html = [];\n\t\t\tvar clsName;\n\t\t\twhile (prevMonth.valueOf() < nextMonth){\n\t\t\t\tif (prevMonth.getUTCDay() === this.o.weekStart){\n\t\t\t\t\thtml.push('<tr>');\n\t\t\t\t\tif (this.o.calendarWeeks){\n\t\t\t\t\t\t// ISO 8601: First week contains first thursday.\n\t\t\t\t\t\t// ISO also states week starts on Monday, but we can be more abstract here.\n\t\t\t\t\t\tvar\n\t\t\t\t\t\t\t// Start of current week: based on weekstart/current date\n\t\t\t\t\t\t\tws = new Date(+prevMonth + (this.o.weekStart - prevMonth.getUTCDay() - 7) % 7 * 864e5),\n\t\t\t\t\t\t\t// Thursday of this week\n\t\t\t\t\t\t\tth = new Date(Number(ws) + (7 + 4 - ws.getUTCDay()) % 7 * 864e5),\n\t\t\t\t\t\t\t// First Thursday of year, year from thursday\n\t\t\t\t\t\t\tyth = new Date(Number(yth = UTCDate(th.getUTCFullYear(), 0, 1)) + (7 + 4 - yth.getUTCDay())%7*864e5),\n\t\t\t\t\t\t\t// Calendar week: ms between thursdays, div ms per day, div 7 days\n\t\t\t\t\t\t\tcalWeek =  (th - yth) / 864e5 / 7 + 1;\n\t\t\t\t\t\thtml.push('<td class=\"cw\">'+ calWeek +'</td>');\n\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tclsName = this.getClassNames(prevMonth);\n\t\t\t\tclsName.push('day');\n\n\t\t\t\tif (this.o.beforeShowDay !== $.noop){\n\t\t\t\t\tvar before = this.o.beforeShowDay(this._utc_to_local(prevMonth));\n\t\t\t\t\tif (before === undefined)\n\t\t\t\t\t\tbefore = {};\n\t\t\t\t\telse if (typeof(before) === 'boolean')\n\t\t\t\t\t\tbefore = {enabled: before};\n\t\t\t\t\telse if (typeof(before) === 'string')\n\t\t\t\t\t\tbefore = {classes: before};\n\t\t\t\t\tif (before.enabled === false)\n\t\t\t\t\t\tclsName.push('disabled');\n\t\t\t\t\tif (before.classes)\n\t\t\t\t\t\tclsName = clsName.concat(before.classes.split(/\\s+/));\n\t\t\t\t\tif (before.tooltip)\n\t\t\t\t\t\ttooltip = before.tooltip;\n\t\t\t\t}\n\n\t\t\t\tclsName = $.unique(clsName);\n\t\t\t\thtml.push('<td class=\"'+clsName.join(' ')+'\"' + (tooltip ? ' title=\"'+tooltip+'\"' : '') + '>'+prevMonth.getUTCDate() + '</td>');\n\t\t\t\tif (prevMonth.getUTCDay() === this.o.weekEnd){\n\t\t\t\t\thtml.push('</tr>');\n\t\t\t\t}\n\t\t\t\tprevMonth.setUTCDate(prevMonth.getUTCDate()+1);\n\t\t\t}\n\t\t\tthis.picker.find('.datepicker-days tbody').empty().append(html.join(''));\n\n\t\t\tvar months = this.picker.find('.datepicker-months')\n\t\t\t\t\t\t.find('th:eq(1)')\n\t\t\t\t\t\t\t.text(year)\n\t\t\t\t\t\t\t.end()\n\t\t\t\t\t\t.find('span').removeClass('active');\n\n\t\t\t$.each(this.dates, function(i, d){\n\t\t\t\tif (d.getUTCFullYear() === year)\n\t\t\t\t\tmonths.eq(d.getUTCMonth()).addClass('active');\n\t\t\t});\n\n\t\t\tif (year < startYear || year > endYear){\n\t\t\t\tmonths.addClass('disabled');\n\t\t\t}\n\t\t\tif (year === startYear){\n\t\t\t\tmonths.slice(0, startMonth).addClass('disabled');\n\t\t\t}\n\t\t\tif (year === endYear){\n\t\t\t\tmonths.slice(endMonth+1).addClass('disabled');\n\t\t\t}\n\n\t\t\thtml = '';\n\t\t\tyear = parseInt(year/10, 10) * 10;\n\t\t\tvar yearCont = this.picker.find('.datepicker-years')\n\t\t\t\t\t\t\t\t.find('th:eq(1)')\n\t\t\t\t\t\t\t\t\t.text(year + '-' + (year + 9))\n\t\t\t\t\t\t\t\t\t.end()\n\t\t\t\t\t\t\t\t.find('td');\n\t\t\tyear -= 1;\n\t\t\tvar years = $.map(this.dates, function(d){\n\t\t\t\t\treturn d.getUTCFullYear();\n\t\t\t\t}),\n\t\t\t\tclasses;\n\t\t\tfor (var i = -1; i < 11; i++){\n\t\t\t\tclasses = ['year'];\n\t\t\t\tif (i === -1)\n\t\t\t\t\tclasses.push('old');\n\t\t\t\telse if (i === 10)\n\t\t\t\t\tclasses.push('new');\n\t\t\t\tif ($.inArray(year, years) !== -1)\n\t\t\t\t\tclasses.push('active');\n\t\t\t\tif (year < startYear || year > endYear)\n\t\t\t\t\tclasses.push('disabled');\n\t\t\t\thtml += '<span class=\"' + classes.join(' ') + '\">'+year+'</span>';\n\t\t\t\tyear += 1;\n\t\t\t}\n\t\t\tyearCont.html(html);\n\t\t},\n\n\t\tupdateNavArrows: function(){\n\t\t\tif (!this._allow_update)\n\t\t\t\treturn;\n\n\t\t\tvar d = new Date(this.viewDate),\n\t\t\t\tyear = d.getUTCFullYear(),\n\t\t\t\tmonth = d.getUTCMonth();\n\t\t\tswitch (this.viewMode){\n\t\t\t\tcase 0:\n\t\t\t\t\tif (this.o.startDate !== -Infinity && year <= this.o.startDate.getUTCFullYear() && month <= this.o.startDate.getUTCMonth()){\n\t\t\t\t\t\tthis.picker.find('.prev').css({visibility: 'hidden'});\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tthis.picker.find('.prev').css({visibility: 'visible'});\n\t\t\t\t\t}\n\t\t\t\t\tif (this.o.endDate !== Infinity && year >= this.o.endDate.getUTCFullYear() && month >= this.o.endDate.getUTCMonth()){\n\t\t\t\t\t\tthis.picker.find('.next').css({visibility: 'hidden'});\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tthis.picker.find('.next').css({visibility: 'visible'});\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 1:\n\t\t\t\tcase 2:\n\t\t\t\t\tif (this.o.startDate !== -Infinity && year <= this.o.startDate.getUTCFullYear()){\n\t\t\t\t\t\tthis.picker.find('.prev').css({visibility: 'hidden'});\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tthis.picker.find('.prev').css({visibility: 'visible'});\n\t\t\t\t\t}\n\t\t\t\t\tif (this.o.endDate !== Infinity && year >= this.o.endDate.getUTCFullYear()){\n\t\t\t\t\t\tthis.picker.find('.next').css({visibility: 'hidden'});\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tthis.picker.find('.next').css({visibility: 'visible'});\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\n\t\tclick: function(e){\n\t\t\te.preventDefault();\n\t\t\tvar target = $(e.target).closest('span, td, th'),\n\t\t\t\tyear, month, day;\n\t\t\tif (target.length === 1){\n\t\t\t\tswitch (target[0].nodeName.toLowerCase()){\n\t\t\t\t\tcase 'th':\n\t\t\t\t\t\tswitch (target[0].className){\n\t\t\t\t\t\t\tcase 'datepicker-switch':\n\t\t\t\t\t\t\t\tthis.showMode(1);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'prev':\n\t\t\t\t\t\t\tcase 'next':\n\t\t\t\t\t\t\t\tvar dir = DPGlobal.modes[this.viewMode].navStep * (target[0].className === 'prev' ? -1 : 1);\n\t\t\t\t\t\t\t\tswitch (this.viewMode){\n\t\t\t\t\t\t\t\t\tcase 0:\n\t\t\t\t\t\t\t\t\t\tthis.viewDate = this.moveMonth(this.viewDate, dir);\n\t\t\t\t\t\t\t\t\t\tthis._trigger('changeMonth', this.viewDate);\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\tcase 1:\n\t\t\t\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\t\t\t\tthis.viewDate = this.moveYear(this.viewDate, dir);\n\t\t\t\t\t\t\t\t\t\tif (this.viewMode === 1)\n\t\t\t\t\t\t\t\t\t\t\tthis._trigger('changeYear', this.viewDate);\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthis.fill();\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'today':\n\t\t\t\t\t\t\t\tvar date = new Date();\n\t\t\t\t\t\t\t\tdate = UTCDate(date.getFullYear(), date.getMonth(), date.getDate(), 0, 0, 0);\n\n\t\t\t\t\t\t\t\tthis.showMode(-2);\n\t\t\t\t\t\t\t\tvar which = this.o.todayBtn === 'linked' ? null : 'view';\n\t\t\t\t\t\t\t\tthis._setDate(date, which);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'clear':\n\t\t\t\t\t\t\t\tvar element;\n\t\t\t\t\t\t\t\tif (this.isInput)\n\t\t\t\t\t\t\t\t\telement = this.element;\n\t\t\t\t\t\t\t\telse if (this.component)\n\t\t\t\t\t\t\t\t\telement = this.element.find('input');\n\t\t\t\t\t\t\t\tif (element)\n\t\t\t\t\t\t\t\t\telement.val(\"\").change();\n\t\t\t\t\t\t\t\tthis.update();\n\t\t\t\t\t\t\t\tthis._trigger('changeDate');\n\t\t\t\t\t\t\t\tif (this.o.autoclose)\n\t\t\t\t\t\t\t\t\tthis.hide();\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'span':\n\t\t\t\t\t\tif (!target.is('.disabled')){\n\t\t\t\t\t\t\tthis.viewDate.setUTCDate(1);\n\t\t\t\t\t\t\tif (target.is('.month')){\n\t\t\t\t\t\t\t\tday = 1;\n\t\t\t\t\t\t\t\tmonth = target.parent().find('span').index(target);\n\t\t\t\t\t\t\t\tyear = this.viewDate.getUTCFullYear();\n\t\t\t\t\t\t\t\tthis.viewDate.setUTCMonth(month);\n\t\t\t\t\t\t\t\tthis._trigger('changeMonth', this.viewDate);\n\t\t\t\t\t\t\t\tif (this.o.minViewMode === 1){\n\t\t\t\t\t\t\t\t\tthis._setDate(UTCDate(year, month, day));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tday = 1;\n\t\t\t\t\t\t\t\tmonth = 0;\n\t\t\t\t\t\t\t\tyear = parseInt(target.text(), 10)||0;\n\t\t\t\t\t\t\t\tthis.viewDate.setUTCFullYear(year);\n\t\t\t\t\t\t\t\tthis._trigger('changeYear', this.viewDate);\n\t\t\t\t\t\t\t\tif (this.o.minViewMode === 2){\n\t\t\t\t\t\t\t\t\tthis._setDate(UTCDate(year, month, day));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis.showMode(-1);\n\t\t\t\t\t\t\tthis.fill();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'td':\n\t\t\t\t\t\tif (target.is('.day') && !target.is('.disabled')){\n\t\t\t\t\t\t\tday = parseInt(target.text(), 10)||1;\n\t\t\t\t\t\t\tyear = this.viewDate.getUTCFullYear();\n\t\t\t\t\t\t\tmonth = this.viewDate.getUTCMonth();\n\t\t\t\t\t\t\tif (target.is('.old')){\n\t\t\t\t\t\t\t\tif (month === 0){\n\t\t\t\t\t\t\t\t\tmonth = 11;\n\t\t\t\t\t\t\t\t\tyear -= 1;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\tmonth -= 1;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if (target.is('.new')){\n\t\t\t\t\t\t\t\tif (month === 11){\n\t\t\t\t\t\t\t\t\tmonth = 0;\n\t\t\t\t\t\t\t\t\tyear += 1;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\tmonth += 1;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis._setDate(UTCDate(year, month, day));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.picker.is(':visible') && this._focused_from){\n\t\t\t\t$(this._focused_from).focus();\n\t\t\t}\n\t\t\tdelete this._focused_from;\n\t\t},\n\n\t\t_toggle_multidate: function(date){\n\t\t\tvar ix = this.dates.contains(date);\n\t\t\tif (!date){\n\t\t\t\tthis.dates.clear();\n\t\t\t}\n\t\t\telse if (ix !== -1){\n\t\t\t\tthis.dates.remove(ix);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.dates.push(date);\n\t\t\t}\n\t\t\tif (typeof this.o.multidate === 'number')\n\t\t\t\twhile (this.dates.length > this.o.multidate)\n\t\t\t\t\tthis.dates.remove(0);\n\t\t},\n\n\t\t_setDate: function(date, which){\n\t\t\tif (!which || which === 'date')\n\t\t\t\tthis._toggle_multidate(date && new Date(date));\n\t\t\tif (!which || which  === 'view')\n\t\t\t\tthis.viewDate = date && new Date(date);\n\n\t\t\tthis.fill();\n\t\t\tthis.setValue();\n\t\t\tthis._trigger('changeDate');\n\t\t\tvar element;\n\t\t\tif (this.isInput){\n\t\t\t\telement = this.element;\n\t\t\t}\n\t\t\telse if (this.component){\n\t\t\t\telement = this.element.find('input');\n\t\t\t}\n\t\t\tif (element){\n\t\t\t\telement.change();\n\t\t\t}\n\t\t\tif (this.o.autoclose && (!which || which === 'date')){\n\t\t\t\tthis.hide();\n\t\t\t}\n\t\t},\n\n\t\tmoveMonth: function(date, dir){\n\t\t\tif (!date)\n\t\t\t\treturn undefined;\n\t\t\tif (!dir)\n\t\t\t\treturn date;\n\t\t\tvar new_date = new Date(date.valueOf()),\n\t\t\t\tday = new_date.getUTCDate(),\n\t\t\t\tmonth = new_date.getUTCMonth(),\n\t\t\t\tmag = Math.abs(dir),\n\t\t\t\tnew_month, test;\n\t\t\tdir = dir > 0 ? 1 : -1;\n\t\t\tif (mag === 1){\n\t\t\t\ttest = dir === -1\n\t\t\t\t\t// If going back one month, make sure month is not current month\n\t\t\t\t\t// (eg, Mar 31 -> Feb 31 == Feb 28, not Mar 02)\n\t\t\t\t\t? function(){\n\t\t\t\t\t\treturn new_date.getUTCMonth() === month;\n\t\t\t\t\t}\n\t\t\t\t\t// If going forward one month, make sure month is as expected\n\t\t\t\t\t// (eg, Jan 31 -> Feb 31 == Feb 28, not Mar 02)\n\t\t\t\t\t: function(){\n\t\t\t\t\t\treturn new_date.getUTCMonth() !== new_month;\n\t\t\t\t\t};\n\t\t\t\tnew_month = month + dir;\n\t\t\t\tnew_date.setUTCMonth(new_month);\n\t\t\t\t// Dec -> Jan (12) or Jan -> Dec (-1) -- limit expected date to 0-11\n\t\t\t\tif (new_month < 0 || new_month > 11)\n\t\t\t\t\tnew_month = (new_month + 12) % 12;\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// For magnitudes >1, move one month at a time...\n\t\t\t\tfor (var i=0; i < mag; i++)\n\t\t\t\t\t// ...which might decrease the day (eg, Jan 31 to Feb 28, etc)...\n\t\t\t\t\tnew_date = this.moveMonth(new_date, dir);\n\t\t\t\t// ...then reset the day, keeping it in the new month\n\t\t\t\tnew_month = new_date.getUTCMonth();\n\t\t\t\tnew_date.setUTCDate(day);\n\t\t\t\ttest = function(){\n\t\t\t\t\treturn new_month !== new_date.getUTCMonth();\n\t\t\t\t};\n\t\t\t}\n\t\t\t// Common date-resetting loop -- if date is beyond end of month, make it\n\t\t\t// end of month\n\t\t\twhile (test()){\n\t\t\t\tnew_date.setUTCDate(--day);\n\t\t\t\tnew_date.setUTCMonth(new_month);\n\t\t\t}\n\t\t\treturn new_date;\n\t\t},\n\n\t\tmoveYear: function(date, dir){\n\t\t\treturn this.moveMonth(date, dir*12);\n\t\t},\n\n\t\tdateWithinRange: function(date){\n\t\t\treturn date >= this.o.startDate && date <= this.o.endDate;\n\t\t},\n\n\t\tkeydown: function(e){\n\t\t\tif (this.picker.is(':not(:visible)')){\n\t\t\t\tif (e.keyCode === 27) // allow escape to hide and re-show picker\n\t\t\t\t\tthis.show();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar dateChanged = false,\n\t\t\t\tdir, newDate, newViewDate,\n\t\t\t\tfocusDate = this.focusDate || this.viewDate;\n\t\t\tswitch (e.keyCode){\n\t\t\t\tcase 27: // escape\n\t\t\t\t\tif (this.focusDate){\n\t\t\t\t\t\tthis.focusDate = null;\n\t\t\t\t\t\tthis.viewDate = this.dates.get(-1) || this.viewDate;\n\t\t\t\t\t\tthis.fill();\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\tthis.hide();\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 37: // left\n\t\t\t\tcase 39: // right\n\t\t\t\t\tif (!this.o.keyboardNavigation)\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdir = e.keyCode === 37 ? -1 : 1;\n\t\t\t\t\tif (e.ctrlKey){\n\t\t\t\t\t\tnewDate = this.moveYear(this.dates.get(-1) || UTCToday(), dir);\n\t\t\t\t\t\tnewViewDate = this.moveYear(focusDate, dir);\n\t\t\t\t\t\tthis._trigger('changeYear', this.viewDate);\n\t\t\t\t\t}\n\t\t\t\t\telse if (e.shiftKey){\n\t\t\t\t\t\tnewDate = this.moveMonth(this.dates.get(-1) || UTCToday(), dir);\n\t\t\t\t\t\tnewViewDate = this.moveMonth(focusDate, dir);\n\t\t\t\t\t\tthis._trigger('changeMonth', this.viewDate);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tnewDate = new Date(this.dates.get(-1) || UTCToday());\n\t\t\t\t\t\tnewDate.setUTCDate(newDate.getUTCDate() + dir);\n\t\t\t\t\t\tnewViewDate = new Date(focusDate);\n\t\t\t\t\t\tnewViewDate.setUTCDate(focusDate.getUTCDate() + dir);\n\t\t\t\t\t}\n\t\t\t\t\tif (this.dateWithinRange(newDate)){\n\t\t\t\t\t\tthis.focusDate = this.viewDate = newViewDate;\n\t\t\t\t\t\tthis.setValue();\n\t\t\t\t\t\tthis.fill();\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 38: // up\n\t\t\t\tcase 40: // down\n\t\t\t\t\tif (!this.o.keyboardNavigation)\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdir = e.keyCode === 38 ? -1 : 1;\n\t\t\t\t\tif (e.ctrlKey){\n\t\t\t\t\t\tnewDate = this.moveYear(this.dates.get(-1) || UTCToday(), dir);\n\t\t\t\t\t\tnewViewDate = this.moveYear(focusDate, dir);\n\t\t\t\t\t\tthis._trigger('changeYear', this.viewDate);\n\t\t\t\t\t}\n\t\t\t\t\telse if (e.shiftKey){\n\t\t\t\t\t\tnewDate = this.moveMonth(this.dates.get(-1) || UTCToday(), dir);\n\t\t\t\t\t\tnewViewDate = this.moveMonth(focusDate, dir);\n\t\t\t\t\t\tthis._trigger('changeMonth', this.viewDate);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tnewDate = new Date(this.dates.get(-1) || UTCToday());\n\t\t\t\t\t\tnewDate.setUTCDate(newDate.getUTCDate() + dir * 7);\n\t\t\t\t\t\tnewViewDate = new Date(focusDate);\n\t\t\t\t\t\tnewViewDate.setUTCDate(focusDate.getUTCDate() + dir * 7);\n\t\t\t\t\t}\n\t\t\t\t\tif (this.dateWithinRange(newDate)){\n\t\t\t\t\t\tthis.focusDate = this.viewDate = newViewDate;\n\t\t\t\t\t\tthis.setValue();\n\t\t\t\t\t\tthis.fill();\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 32: // spacebar\n\t\t\t\t\t// Spacebar is used in manually typing dates in some formats.\n\t\t\t\t\t// As such, its behavior should not be hijacked.\n\t\t\t\t\tbreak;\n\t\t\t\tcase 13: // enter\n\t\t\t\t\tfocusDate = this.focusDate || this.dates.get(-1) || this.viewDate;\n\t\t\t\t\tthis._toggle_multidate(focusDate);\n\t\t\t\t\tdateChanged = true;\n\t\t\t\t\tthis.focusDate = null;\n\t\t\t\t\tthis.viewDate = this.dates.get(-1) || this.viewDate;\n\t\t\t\t\tthis.setValue();\n\t\t\t\t\tthis.fill();\n\t\t\t\t\tif (this.picker.is(':visible')){\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tif (this.o.autoclose)\n\t\t\t\t\t\t\tthis.hide();\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 9: // tab\n\t\t\t\t\tthis.focusDate = null;\n\t\t\t\t\tthis.viewDate = this.dates.get(-1) || this.viewDate;\n\t\t\t\t\tthis.fill();\n\t\t\t\t\tthis.hide();\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (dateChanged){\n\t\t\t\tif (this.dates.length)\n\t\t\t\t\tthis._trigger('changeDate');\n\t\t\t\telse\n\t\t\t\t\tthis._trigger('clearDate');\n\t\t\t\tvar element;\n\t\t\t\tif (this.isInput){\n\t\t\t\t\telement = this.element;\n\t\t\t\t}\n\t\t\t\telse if (this.component){\n\t\t\t\t\telement = this.element.find('input');\n\t\t\t\t}\n\t\t\t\tif (element){\n\t\t\t\t\telement.change();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tshowMode: function(dir){\n\t\t\tif (dir){\n\t\t\t\tthis.viewMode = Math.max(this.o.minViewMode, Math.min(2, this.viewMode + dir));\n\t\t\t}\n\t\t\tthis.picker\n\t\t\t\t.find('>div')\n\t\t\t\t.hide()\n\t\t\t\t.filter('.datepicker-'+DPGlobal.modes[this.viewMode].clsName)\n\t\t\t\t\t.css('display', 'block');\n\t\t\tthis.updateNavArrows();\n\t\t}\n\t};\n\n\tvar DateRangePicker = function(element, options){\n\t\tthis.element = $(element);\n\t\tthis.inputs = $.map(options.inputs, function(i){\n\t\t\treturn i.jquery ? i[0] : i;\n\t\t});\n\t\tdelete options.inputs;\n\n\t\t$(this.inputs)\n\t\t\t.datepicker(options)\n\t\t\t.bind('changeDate', $.proxy(this.dateUpdated, this));\n\n\t\tthis.pickers = $.map(this.inputs, function(i){\n\t\t\treturn $(i).data('datepicker');\n\t\t});\n\t\tthis.updateDates();\n\t};\n\tDateRangePicker.prototype = {\n\t\tupdateDates: function(){\n\t\t\tthis.dates = $.map(this.pickers, function(i){\n\t\t\t\treturn i.getUTCDate();\n\t\t\t});\n\t\t\tthis.updateRanges();\n\t\t},\n\t\tupdateRanges: function(){\n\t\t\tvar range = $.map(this.dates, function(d){\n\t\t\t\treturn d.valueOf();\n\t\t\t});\n\t\t\t$.each(this.pickers, function(i, p){\n\t\t\t\tp.setRange(range);\n\t\t\t});\n\t\t},\n\t\tdateUpdated: function(e){\n\t\t\t// `this.updating` is a workaround for preventing infinite recursion\n\t\t\t// between `changeDate` triggering and `setUTCDate` calling.  Until\n\t\t\t// there is a better mechanism.\n\t\t\tif (this.updating)\n\t\t\t\treturn;\n\t\t\tthis.updating = true;\n\n\t\t\tvar dp = $(e.target).data('datepicker'),\n\t\t\t\tnew_date = dp.getUTCDate(),\n\t\t\t\ti = $.inArray(e.target, this.inputs),\n\t\t\t\tl = this.inputs.length;\n\t\t\tif (i === -1)\n\t\t\t\treturn;\n\n\t\t\t$.each(this.pickers, function(i, p){\n\t\t\t\tif (!p.getUTCDate())\n\t\t\t\t\tp.setUTCDate(new_date);\n\t\t\t});\n\n\t\t\tif (new_date < this.dates[i]){\n\t\t\t\t// Date being moved earlier/left\n\t\t\t\twhile (i >= 0 && new_date < this.dates[i]){\n\t\t\t\t\tthis.pickers[i--].setUTCDate(new_date);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (new_date > this.dates[i]){\n\t\t\t\t// Date being moved later/right\n\t\t\t\twhile (i < l && new_date > this.dates[i]){\n\t\t\t\t\tthis.pickers[i++].setUTCDate(new_date);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.updateDates();\n\n\t\t\tdelete this.updating;\n\t\t},\n\t\tremove: function(){\n\t\t\t$.map(this.pickers, function(p){ p.remove(); });\n\t\t\tdelete this.element.data().datepicker;\n\t\t}\n\t};\n\n\tfunction opts_from_el(el, prefix){\n\t\t// Derive options from element data-attrs\n\t\tvar data = $(el).data(),\n\t\t\tout = {}, inkey,\n\t\t\treplace = new RegExp('^' + prefix.toLowerCase() + '([A-Z])');\n\t\tprefix = new RegExp('^' + prefix.toLowerCase());\n\t\tfunction re_lower(_,a){\n\t\t\treturn a.toLowerCase();\n\t\t}\n\t\tfor (var key in data)\n\t\t\tif (prefix.test(key)){\n\t\t\t\tinkey = key.replace(replace, re_lower);\n\t\t\t\tout[inkey] = data[key];\n\t\t\t}\n\t\treturn out;\n\t}\n\n\tfunction opts_from_locale(lang){\n\t\t// Derive options from locale plugins\n\t\tvar out = {};\n\t\t// Check if \"de-DE\" style date is available, if not language should\n\t\t// fallback to 2 letter code eg \"de\"\n\t\tif (!dates[lang]){\n\t\t\tlang = lang.split('-')[0];\n\t\t\tif (!dates[lang])\n\t\t\t\treturn;\n\t\t}\n\t\tvar d = dates[lang];\n\t\t$.each(locale_opts, function(i,k){\n\t\t\tif (k in d)\n\t\t\t\tout[k] = d[k];\n\t\t});\n\t\treturn out;\n\t}\n\n\tvar old = $.fn.datepicker;\n\t$.fn.datepicker = function(option){\n\t\tvar args = Array.apply(null, arguments);\n\t\targs.shift();\n\t\tvar internal_return;\n\t\tthis.each(function(){\n\t\t\tvar $this = $(this),\n\t\t\t\tdata = $this.data('datepicker'),\n\t\t\t\toptions = typeof option === 'object' && option;\n\t\t\tif (!data){\n\t\t\t\tvar elopts = opts_from_el(this, 'date'),\n\t\t\t\t\t// Preliminary otions\n\t\t\t\t\txopts = $.extend({}, defaults, elopts, options),\n\t\t\t\t\tlocopts = opts_from_locale(xopts.language),\n\t\t\t\t\t// Options priority: js args, data-attrs, locales, defaults\n\t\t\t\t\topts = $.extend({}, defaults, locopts, elopts, options);\n\t\t\t\tif ($this.is('.input-daterange') || opts.inputs){\n\t\t\t\t\tvar ropts = {\n\t\t\t\t\t\tinputs: opts.inputs || $this.find('input').toArray()\n\t\t\t\t\t};\n\t\t\t\t\t$this.data('datepicker', (data = new DateRangePicker(this, $.extend(opts, ropts))));\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t$this.data('datepicker', (data = new Datepicker(this, opts)));\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (typeof option === 'string' && typeof data[option] === 'function'){\n\t\t\t\tinternal_return = data[option].apply(data, args);\n\t\t\t\tif (internal_return !== undefined)\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\t\tif (internal_return !== undefined)\n\t\t\treturn internal_return;\n\t\telse\n\t\t\treturn this;\n\t};\n\n\tvar defaults = $.fn.datepicker.defaults = {\n\t\tautoclose: false,\n\t\tbeforeShowDay: $.noop,\n\t\tcalendarWeeks: false,\n\t\tclearBtn: false,\n\t\tdaysOfWeekDisabled: [],\n\t\tendDate: Infinity,\n\t\tforceParse: true,\n\t\tformat: 'mm/dd/yyyy',\n\t\tkeyboardNavigation: true,\n\t\tlanguage: 'en',\n\t\tminViewMode: 0,\n\t\tmultidate: false,\n\t\tmultidateSeparator: ',',\n\t\torientation: \"auto\",\n\t\trtl: false,\n\t\tstartDate: -Infinity,\n\t\tstartView: 0,\n\t\ttodayBtn: false,\n\t\ttodayHighlight: false,\n\t\tweekStart: 0\n\t};\n\tvar locale_opts = $.fn.datepicker.locale_opts = [\n\t\t'format',\n\t\t'rtl',\n\t\t'weekStart'\n\t];\n\t$.fn.datepicker.Constructor = Datepicker;\n\tvar dates = $.fn.datepicker.dates = {\n\t\ten: {\n\t\t\tdays: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\", \"Sunday\"],\n\t\t\tdaysShort: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\", \"Sun\"],\n\t\t\tdaysMin: [\"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\", \"Su\"],\n\t\t\tmonths: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n\t\t\tmonthsShort: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"],\n\t\t\ttoday: \"Today\",\n\t\t\tclear: \"Clear\"\n\t\t}\n\t};\n\n\tvar DPGlobal = {\n\t\tmodes: [\n\t\t\t{\n\t\t\t\tclsName: 'days',\n\t\t\t\tnavFnc: 'Month',\n\t\t\t\tnavStep: 1\n\t\t\t},\n\t\t\t{\n\t\t\t\tclsName: 'months',\n\t\t\t\tnavFnc: 'FullYear',\n\t\t\t\tnavStep: 1\n\t\t\t},\n\t\t\t{\n\t\t\t\tclsName: 'years',\n\t\t\t\tnavFnc: 'FullYear',\n\t\t\t\tnavStep: 10\n\t\t}],\n\t\tisLeapYear: function(year){\n\t\t\treturn (((year % 4 === 0) && (year % 100 !== 0)) || (year % 400 === 0));\n\t\t},\n\t\tgetDaysInMonth: function(year, month){\n\t\t\treturn [31, (DPGlobal.isLeapYear(year) ? 29 : 28), 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month];\n\t\t},\n\t\tvalidParts: /dd?|DD?|mm?|MM?|yy(?:yy)?/g,\n\t\tnonpunctuation: /[^ -\\/:-@\\[\\u3400-\\u9fff-`{-~\\t\\n\\r]+/g,\n\t\tparseFormat: function(format){\n\t\t\t// IE treats \\0 as a string end in inputs (truncating the value),\n\t\t\t// so it's a bad format delimiter, anyway\n\t\t\tvar separators = format.replace(this.validParts, '\\0').split('\\0'),\n\t\t\t\tparts = format.match(this.validParts);\n\t\t\tif (!separators || !separators.length || !parts || parts.length === 0){\n\t\t\t\tthrow new Error(\"Invalid date format.\");\n\t\t\t}\n\t\t\treturn {separators: separators, parts: parts};\n\t\t},\n\t\tparseDate: function(date, format, language){\n\t\t\tif (!date)\n\t\t\t\treturn undefined;\n\t\t\tif (date instanceof Date)\n\t\t\t\treturn date;\n\t\t\tif (typeof format === 'string')\n\t\t\t\tformat = DPGlobal.parseFormat(format);\n\t\t\tvar part_re = /([\\-+]\\d+)([dmwy])/,\n\t\t\t\tparts = date.match(/([\\-+]\\d+)([dmwy])/g),\n\t\t\t\tpart, dir, i;\n\t\t\tif (/^[\\-+]\\d+[dmwy]([\\s,]+[\\-+]\\d+[dmwy])*$/.test(date)){\n\t\t\t\tdate = new Date();\n\t\t\t\tfor (i=0; i < parts.length; i++){\n\t\t\t\t\tpart = part_re.exec(parts[i]);\n\t\t\t\t\tdir = parseInt(part[1]);\n\t\t\t\t\tswitch (part[2]){\n\t\t\t\t\t\tcase 'd':\n\t\t\t\t\t\t\tdate.setUTCDate(date.getUTCDate() + dir);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'm':\n\t\t\t\t\t\t\tdate = Datepicker.prototype.moveMonth.call(Datepicker.prototype, date, dir);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'w':\n\t\t\t\t\t\t\tdate.setUTCDate(date.getUTCDate() + dir * 7);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'y':\n\t\t\t\t\t\t\tdate = Datepicker.prototype.moveYear.call(Datepicker.prototype, date, dir);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn UTCDate(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate(), 0, 0, 0);\n\t\t\t}\n\t\t\tparts = date && date.match(this.nonpunctuation) || [];\n\t\t\tdate = new Date();\n\t\t\tvar parsed = {},\n\t\t\t\tsetters_order = ['yyyy', 'yy', 'M', 'MM', 'm', 'mm', 'd', 'dd'],\n\t\t\t\tsetters_map = {\n\t\t\t\t\tyyyy: function(d,v){\n\t\t\t\t\t\treturn d.setUTCFullYear(v);\n\t\t\t\t\t},\n\t\t\t\t\tyy: function(d,v){\n\t\t\t\t\t\treturn d.setUTCFullYear(2000+v);\n\t\t\t\t\t},\n\t\t\t\t\tm: function(d,v){\n\t\t\t\t\t\tif (isNaN(d))\n\t\t\t\t\t\t\treturn d;\n\t\t\t\t\t\tv -= 1;\n\t\t\t\t\t\twhile (v < 0) v += 12;\n\t\t\t\t\t\tv %= 12;\n\t\t\t\t\t\td.setUTCMonth(v);\n\t\t\t\t\t\twhile (d.getUTCMonth() !== v)\n\t\t\t\t\t\t\td.setUTCDate(d.getUTCDate()-1);\n\t\t\t\t\t\treturn d;\n\t\t\t\t\t},\n\t\t\t\t\td: function(d,v){\n\t\t\t\t\t\treturn d.setUTCDate(v);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tval, filtered;\n\t\t\tsetters_map['M'] = setters_map['MM'] = setters_map['mm'] = setters_map['m'];\n\t\t\tsetters_map['dd'] = setters_map['d'];\n\t\t\tdate = UTCDate(date.getFullYear(), date.getMonth(), date.getDate(), 0, 0, 0);\n\t\t\tvar fparts = format.parts.slice();\n\t\t\t// Remove noop parts\n\t\t\tif (parts.length !== fparts.length){\n\t\t\t\tfparts = $(fparts).filter(function(i,p){\n\t\t\t\t\treturn $.inArray(p, setters_order) !== -1;\n\t\t\t\t}).toArray();\n\t\t\t}\n\t\t\t// Process remainder\n\t\t\tfunction match_part(){\n\t\t\t\tvar m = this.slice(0, parts[i].length),\n\t\t\t\t\tp = parts[i].slice(0, m.length);\n\t\t\t\treturn m === p;\n\t\t\t}\n\t\t\tif (parts.length === fparts.length){\n\t\t\t\tvar cnt;\n\t\t\t\tfor (i=0, cnt = fparts.length; i < cnt; i++){\n\t\t\t\t\tval = parseInt(parts[i], 10);\n\t\t\t\t\tpart = fparts[i];\n\t\t\t\t\tif (isNaN(val)){\n\t\t\t\t\t\tswitch (part){\n\t\t\t\t\t\t\tcase 'MM':\n\t\t\t\t\t\t\t\tfiltered = $(dates[language].months).filter(match_part);\n\t\t\t\t\t\t\t\tval = $.inArray(filtered[0], dates[language].months) + 1;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'M':\n\t\t\t\t\t\t\t\tfiltered = $(dates[language].monthsShort).filter(match_part);\n\t\t\t\t\t\t\t\tval = $.inArray(filtered[0], dates[language].monthsShort) + 1;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tparsed[part] = val;\n\t\t\t\t}\n\t\t\t\tvar _date, s;\n\t\t\t\tfor (i=0; i < setters_order.length; i++){\n\t\t\t\t\ts = setters_order[i];\n\t\t\t\t\tif (s in parsed && !isNaN(parsed[s])){\n\t\t\t\t\t\t_date = new Date(date);\n\t\t\t\t\t\tsetters_map[s](_date, parsed[s]);\n\t\t\t\t\t\tif (!isNaN(_date))\n\t\t\t\t\t\t\tdate = _date;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn date;\n\t\t},\n\t\tformatDate: function(date, format, language){\n\t\t\tif (!date)\n\t\t\t\treturn '';\n\t\t\tif (typeof format === 'string')\n\t\t\t\tformat = DPGlobal.parseFormat(format);\n\t\t\tvar val = {\n\t\t\t\td: date.getUTCDate(),\n\t\t\t\tD: dates[language].daysShort[date.getUTCDay()],\n\t\t\t\tDD: dates[language].days[date.getUTCDay()],\n\t\t\t\tm: date.getUTCMonth() + 1,\n\t\t\t\tM: dates[language].monthsShort[date.getUTCMonth()],\n\t\t\t\tMM: dates[language].months[date.getUTCMonth()],\n\t\t\t\tyy: date.getUTCFullYear().toString().substring(2),\n\t\t\t\tyyyy: date.getUTCFullYear()\n\t\t\t};\n\t\t\tval.dd = (val.d < 10 ? '0' : '') + val.d;\n\t\t\tval.mm = (val.m < 10 ? '0' : '') + val.m;\n\t\t\tdate = [];\n\t\t\tvar seps = $.extend([], format.separators);\n\t\t\tfor (var i=0, cnt = format.parts.length; i <= cnt; i++){\n\t\t\t\tif (seps.length)\n\t\t\t\t\tdate.push(seps.shift());\n\t\t\t\tdate.push(val[format.parts[i]]);\n\t\t\t}\n\t\t\treturn date.join('');\n\t\t},\n\t\theadTemplate: '<thead>'+\n\t\t\t\t\t\t\t'<tr>'+\n\t\t\t\t\t\t\t\t'<th class=\"prev\">&laquo;</th>'+\n\t\t\t\t\t\t\t\t'<th colspan=\"5\" class=\"datepicker-switch\"></th>'+\n\t\t\t\t\t\t\t\t'<th class=\"next\">&raquo;</th>'+\n\t\t\t\t\t\t\t'</tr>'+\n\t\t\t\t\t\t'</thead>',\n\t\tcontTemplate: '<tbody><tr><td colspan=\"7\"></td></tr></tbody>',\n\t\tfootTemplate: '<tfoot>'+\n\t\t\t\t\t\t\t'<tr>'+\n\t\t\t\t\t\t\t\t'<th colspan=\"7\" class=\"today\"></th>'+\n\t\t\t\t\t\t\t'</tr>'+\n\t\t\t\t\t\t\t'<tr>'+\n\t\t\t\t\t\t\t\t'<th colspan=\"7\" class=\"clear\"></th>'+\n\t\t\t\t\t\t\t'</tr>'+\n\t\t\t\t\t\t'</tfoot>'\n\t};\n\tDPGlobal.template = '<div class=\"datepicker\">'+\n\t\t\t\t\t\t\t'<div class=\"datepicker-days\">'+\n\t\t\t\t\t\t\t\t'<table class=\" table-condensed\">'+\n\t\t\t\t\t\t\t\t\tDPGlobal.headTemplate+\n\t\t\t\t\t\t\t\t\t'<tbody></tbody>'+\n\t\t\t\t\t\t\t\t\tDPGlobal.footTemplate+\n\t\t\t\t\t\t\t\t'</table>'+\n\t\t\t\t\t\t\t'</div>'+\n\t\t\t\t\t\t\t'<div class=\"datepicker-months\">'+\n\t\t\t\t\t\t\t\t'<table class=\"table-condensed\">'+\n\t\t\t\t\t\t\t\t\tDPGlobal.headTemplate+\n\t\t\t\t\t\t\t\t\tDPGlobal.contTemplate+\n\t\t\t\t\t\t\t\t\tDPGlobal.footTemplate+\n\t\t\t\t\t\t\t\t'</table>'+\n\t\t\t\t\t\t\t'</div>'+\n\t\t\t\t\t\t\t'<div class=\"datepicker-years\">'+\n\t\t\t\t\t\t\t\t'<table class=\"table-condensed\">'+\n\t\t\t\t\t\t\t\t\tDPGlobal.headTemplate+\n\t\t\t\t\t\t\t\t\tDPGlobal.contTemplate+\n\t\t\t\t\t\t\t\t\tDPGlobal.footTemplate+\n\t\t\t\t\t\t\t\t'</table>'+\n\t\t\t\t\t\t\t'</div>'+\n\t\t\t\t\t\t'</div>';\n\n\t$.fn.datepicker.DPGlobal = DPGlobal;\n\n\n\t/* DATEPICKER NO CONFLICT\n\t* =================== */\n\n\t$.fn.datepicker.noConflict = function(){\n\t\t$.fn.datepicker = old;\n\t\treturn this;\n\t};\n\n\n\t/* DATEPICKER DATA-API\n\t* ================== */\n\n\t$(document).on(\n\t\t'focus.datepicker.data-api click.datepicker.data-api',\n\t\t'[data-provide=\"datepicker\"]',\n\t\tfunction(e){\n\t\t\tvar $this = $(this);\n\t\t\tif ($this.data('datepicker'))\n\t\t\t\treturn;\n\t\t\te.preventDefault();\n\t\t\t// component click requires us to explicitly show it\n\t\t\t$this.datepicker('show');\n\t\t}\n\t);\n\t$(function(){\n\t\t$('[data-provide=\"datepicker-inline\"]').datepicker();\n\t});\n\n}(window.jQuery));\n"]},"metadata":{},"sourceType":"module"}